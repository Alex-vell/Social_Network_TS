{"version":3,"sources":["Components/general/Preloader/Preloader.module.css","Components/Profile/ProfileContent/ProfileContent.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Login/Login.module.css","reportWebVitals.ts","Components/Navbar/Navbar.tsx","redux/dialog-reducer.tsx","Components/Dialogs/DialogItem/DialogItem.tsx","Components/Dialogs/Message/Message.tsx","Components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","Components/Dialogs/DialogsContainer.tsx","Components/Settings/Settings.tsx","api/api.ts","redux/users-reducer.tsx","assets/images/photoAvatar.jpg","Components/Users/Users.tsx","Components/general/Preloader/Preloader.tsx","assets/images/preloader.gif","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Profile/ProfileContent/ProfileStatusWithHooks.tsx","Components/Profile/ProfileContent/ProfileContent.tsx","redux/profile-reducer.tsx","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPosts.tsx","Components/Profile/MyPosts/MyPostsContainer.tsx","Components/Profile/Profile.tsx","Components/Profile/ProfileContainer.tsx","Components/Header/Header.tsx","redux/auth-reducer.tsx","Components/Header/HeaderContainer.tsx","Components/Login/LoginPage.tsx","App.tsx","redux/sidebar-reducer.tsx","redux/app-reducer.tsx","redux/redux-store.ts","index.tsx","Components/Dialogs/Dialogs.module.css","Components/Navbar/Navbar.module.css","Components/Users/Users.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Header/Header.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","active","ADD_MESSAGE","initialState","dialogs","id","v1","name","messages","message","DialogsItem","props","path","dialog","Message","MessageForm","initialValues","newMessageText","onSubmit","values","actions","addMessageCallback","setSubmitting","resetForm","as","type","placeholder","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","dialogsPage","dispatch","sendMessageAC","dialogsElements","map","el","messagesElements","dialogsContainer","dialogsItem","Settings","instance","axios","create","withCredentials","baseURL","headers","authAPI","get","email","password","rememberMe","post","delete","usersAPI","currentPage","pageSize","response","data","userId","profileAPI","status","put","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","photos","small","large","followed","totalUsersCount","isFetching","followingInProgress","setToggleIsFetching","toggleFollowingInProgress","Users","pages","pagesCount","Math","ceil","i","push","p","styles","selectPageActive","selectPage","onClick","event","onPageChangedCallback","u","src","photoAvatar","userPhoto","alt","disabled","some","unFollow","follow","Preloader","preloader","getUsers","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","onPageChanged","pageNumber","setCurrentPage","this","React","resultCode","setFollow","setUnFollow","page","totalCount","items","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateUserStatus","autoFocus","ProfileContent","profile","userPhotoImg","fullName","lookingForAJob","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","likesCount","setUserStatus","Post","PostForm","SignupSchema","Yup","shape","newPostText","min","max","required","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","resetField","addPostCallback","input","errorInput","style","color","MyPostsContainer","profilePage","addPostAC","postsElement","Profile","ProfileContainer","match","params","authUserId","history","getUserProfile","getUserStatus","withRouter","Header","login","logoutUserCallback","header","loginBlock","SET_AUTH_USER_DATA","setAuthUserData","payload","getAuthUser","HeaderContainer","logoutUser","LoginPage","useSelector","useDispatch","mode","formContainer","inputContainer","checkbox","button","App","render","DialogsContainer","initialized","app","SET_INITIALIZED","rootReducer","combineReducers","action","sidebar","f","filter","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.548dcdc5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__quI4H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileContent_image__2CuWr\",\"userPhotoImg\":\"ProfileContent_userPhotoImg__1rhE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__M1xtD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"Login_formContainer__R1MBc\",\"inputContainer\":\"Login_inputContainer__1N5-3\",\"input\":\"Login_input__33PcP\",\"errorInput\":\"Login_errorInput__1HPLT\",\"button\":\"Login_button__2LEuv\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css'\r\n\r\ntype navbarPropsType = {}\r\n\r\nexport const Navbar: React.FC<navbarPropsType> = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n           {/* <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>*/}\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nconst ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\n\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogsPageType = {\r\n    messages: Array<MessagesType>\r\n    dialogs: Array<DialogsType>\r\n    newMessageText: string\r\n}\r\n\r\nexport type InitialStateDialogReducerType = typeof initialState\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Alex'},\r\n        {id: v1(), name: 'Natali'},\r\n        {id: v1(), name: 'Anna'}\r\n    ] as Array<DialogsType>,\r\n    messages: [\r\n        {id: v1(), message: 'I am a developer'},\r\n        {id: v1(), message: 'bla bla'},\r\n        {id: v1(), message: 'la la'}\r\n    ] as Array<MessagesType>,\r\n} as DialogsPageType\r\n\r\nexport const dialogReducer = (state: InitialStateDialogReducerType = initialState, action: ActionsTypes): InitialStateDialogReducerType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: action.newMessageText}]\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageText: string) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageText: newMessageText\r\n    } as const\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../Dialogs.module.css'\r\n\r\ntype dialogsItemType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport const DialogsItem = (props: dialogsItemType) => {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n}","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype messageType = {\r\n    message: string\r\n}\r\n\r\nexport const Message = (props: messageType) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n}","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport {DialogsItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\nimport {Field, Form, Formik, FormikProps} from \"formik\";\r\n\r\n\r\nexport const Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n    let state = props.dialogsPage\r\n\r\n    let dialogsElements = state.dialogs.map(el => <DialogsItem key={el.id} id={el.id} name={el.name}/>)\r\n    let messagesElements = state.messages.map(el => <Message key={el.id} message={el.message}/>)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsContainer}>\r\n                <div className={s.dialogsItem}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n\r\n            <MessageForm addMessageCallback={props.addMessageCallback}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype FormPropsType = {\r\n    addMessageCallback: (newMessageText: string) => void\r\n}\r\n\r\ntype FormikDataType = {\r\n    newMessageText: string\r\n}\r\n\r\nexport const MessageForm = (props: FormPropsType) => (\r\n    <Formik\r\n        initialValues={{newMessageText: ''}}\r\n        onSubmit={(values: FormikDataType, actions) => {\r\n            props.addMessageCallback(values.newMessageText)\r\n            actions.setSubmitting(false);\r\n            actions.resetForm();\r\n        }}\r\n    >\r\n        {(props: FormikProps<FormikDataType>) => (\r\n            <Form>\r\n                <div><Field as = {'textarea'} type=\"text\" name=\"newMessageText\" placeholder=\"Enter text\"/></div>\r\n                <button type=\"submit\">Add post</button>\r\n            </Form>\r\n        )}\r\n    </Formik>\r\n)","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsType) => {\r\n\r\n        const {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    const ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","import {sendMessageAC, InitialStateDialogReducerType} from \"../../redux/dialog-reducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch, compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {ComponentType} from \"react\";\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: InitialStateDialogReducerType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addMessageCallback: (newMessageText: string) => void\r\n\r\n}\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addMessageCallback: (newMessageText: string) => {\r\n            dispatch(sendMessageAC(newMessageText))\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs)","import React from \"react\";\r\n\r\nexport const Settings = () => {\r\n\r\n    return (\r\n        <>\r\n            <h3> Settings </h3>\r\n        </>\r\n    )\r\n}","import axios, {AxiosResponse} from \"axios\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\n\r\n// usersAPI types\r\ntype GetUsersType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\n// profileAPI types\r\n\r\n// type GetStatusType = {\r\n//     status: string\r\n// }\r\n// type UpdateStatusType = {\r\n//     fieldsErrors: Array<string>\r\n//     resultCode: number\r\n//     messages: Array<string>\r\n//     data: {\r\n//         status: string\r\n//     }\r\n// }\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type GetProfileDataType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}\r\n\r\n// Auth types\r\ntype DataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\n\r\n// type ResponsePostLoginType = {\r\n//     resultCode: number\r\n//     messages: Array<string>,\r\n//     data: {\r\n//         userId: number\r\n//     }\r\n// }\r\n\r\ntype CommonResponseType<T = {}> = {\r\n    fieldsErrors: Array<string>\r\n    messages: Array<string>\r\n    resultCode: number\r\n    data: T\r\n}\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '724c553c-960a-4a5c-aa67-c9d1bcd4ed73'\r\n    },\r\n})\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<CommonResponseType<DataType>>('auth/me')\r\n    },\r\n    login(email: string | null, password: string | null, rememberMe = false) {\r\n        return instance.post<any>('/auth/login', {email, password, rememberMe})  ///////\r\n    },\r\n    logout() {\r\n        return instance.delete<CommonResponseType>('/auth/login')\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<GetUsersType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unFollowUser(userId: number | null) {\r\n        return instance.delete<CommonResponseType>(`follow/${userId}`)\r\n    },\r\n    followUser(userId: number | null) {\r\n        return instance.post<CommonResponseType>(`follow/${userId}`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<GetProfileDataType>(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<any>('profile/status/', {status})  ////////\r\n    },\r\n    // updateStatus(status: string) {\r\n    //     return instance.put<CommonResponseType<{status: string}>, AxiosResponse<CommonResponseType<{status: string}>>>('profile/status/', {status})\r\n    // }\r\n}\r\n\r\n\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n// type locationType = {\r\n//     city: string\r\n//     country: string\r\n// }\r\ntype PhotoType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type UserType = {\r\n    id: number | null\r\n    name: string | null\r\n    status: string | null\r\n    photos: PhotoType\r\n    followed: boolean\r\n\r\n    //location: locationType\r\n}\r\n/*export type InitialStateUsersReducerType = typeof initialState*/\r\nexport type InitialStateUsersReducerType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\n\r\nconst initialState = {\r\n    users: [\r\n        {\r\n            name: null,\r\n            id: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        }\r\n    ],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nexport const usersReducer = (state: InitialStateUsersReducerType = initialState, action: ActionsTypes): InitialStateUsersReducerType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: true}\r\n                    }\r\n                    return f\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\n// action\r\n\r\nexport const setFollow = (userId: number | null) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    } as const\r\n}\r\nexport const setUnFollow = (userId: number | null) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    } as const\r\n}\r\nexport const setUsers = (users: Array<UserType>) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    } as const\r\n}\r\nexport const setTotalUsersCount = (totalCount: number) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalCount\r\n    } as const\r\n}\r\nexport const setToggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n}\r\nexport const toggleFollowingInProgress = (isFetching: boolean, userId: number | null) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId,\r\n    } as const\r\n}\r\n\r\n//Thunk Creator\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(setToggleIsFetching(true))\r\n\r\n        usersAPI.getUsers(page, pageSize).then(data => {\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n            dispatch(setToggleIsFetching(false))\r\n        })\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        usersAPI.unFollowUser(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUnFollow(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        usersAPI.followUser(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setFollow(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/photoAvatar.22d7f1c8.jpg\";","import React from \"react\";\r\nimport styles from './Users.module.css'\r\nimport photoAvatar from \"../../assets/images/photoAvatar.jpg\";\r\nimport {InitialStateUsersReducerType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype UsersType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    users: InitialStateUsersReducerType\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    onPageChangedCallback: (pageNumber: number) => void\r\n    //toggleFollowingInProgress: (isFetching: boolean, userId: number | null) => void\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\n\r\nexport const Users = (props: UsersType) => {\r\n\r\n    let pages = []\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p && styles.selectPageActive\r\n                    ? styles.selectPageActive\r\n                    : styles.selectPage}\r\n                             key={p}\r\n                             onClick={(event => props.onPageChangedCallback(p))}>{p}</span>\r\n            })}\r\n\r\n        </div>\r\n        {\r\n            props.users.users.map(u => <div key={u.id}>\r\n        <span>\r\n          <div>\r\n            <NavLink to={'./profile/' + u.id}> <img src={u.photos.small !== null ? u.photos.small : photoAvatar}\r\n                                                    className={styles.userPhoto} alt={'User'}/></NavLink>\r\n          </div>\r\n          <div>\r\n            {u.followed\r\n                ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n                    props.unFollow(u.id)\r\n                    // props.toggleFollowingInProgress(true, u.id)\r\n                    // followAPI.unFollowUser(u.id).then(data => {\r\n                    //     if (data.resultCode === 0) {\r\n                    //         props.unFollow(u.id)\r\n                    //     }\r\n                    //     props.toggleFollowingInProgress(false, u.id)\r\n                    // })\r\n\r\n\r\n                }}>Unfollow</button>\r\n\r\n                : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n                    props.follow(u.id)\r\n                    // props.toggleFollowingInProgress(true, u.id)\r\n                    // followAPI.followUser(u.id).then(data => {\r\n                    //     if (data.resultCode === 0) {\r\n                    //         props.follow(u.id)\r\n                    //     }\r\n                    //     props.toggleFollowingInProgress(false, u.id)\r\n                    // })\r\n\r\n\r\n                }}>Follow</button>}\r\n          </div>\r\n        </span>\r\n                <span>\r\n          <span>\r\n            <div>{u.name}</div>\r\n            <div>{u.status}</div>\r\n          </span>\r\n          <span>\r\n            <div>{'u.location.country'}</div>\r\n            <div>{'u.location.city'}</div>\r\n          </span>\r\n        </span>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif'\r\nimport s from './Preloader.module.css'\r\n\r\nexport const Preloader = () => {\r\n  return (\r\n      <>\r\n        <img className={s.preloader} src={preloader} alt={'preloader'}/>\r\n      </>\r\n\r\n  )\r\n}","export default \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAADqCAMAAAAGRyD0AAAAhFBMVEX39/fppEL4/P/3+fvpoz/pojvooTjonSr3+fzooDXoni/onzLonSj4+Pfz27738+315tT27uPy1rT39fD04MjqqUvssF/rq1Hy2LjwyZnvworuvX315tP38en2693ttm3tu3rx0KfstGnwx5TxzqLvw4zrrVjuuHPttWrz3cTvyJfw0a1oT2LNAAANH0lEQVR4nO1daYOqvA6WpKVQwA33bdxGj+P//38XHF+l0FJAQJjr8/Uch6Zt0uzpdD744IMPPvjgg/93oGVBCAvx3UspDwiwGX6f9/v9dt5dwx+hDGHzTblNKSGUmjab7nx495pKAGy+mGlEQGx+8K13L+tFoLdgxIjDtGftPjIcjM0EVSH40msxm1krJ3lY9yObtJcwa8VVZBkGPXnvXl9B4Fp5WrcT+2ocj+HvIxu8smn/C6ZpZBmGc2wUYQi97uFrahin83zUUb+yMLdTyTIMd9McFkPo7l3bJCGo6fBlX0EZrl0NWQbZN+bAYDQWZQFlX2vp6mBBdXQZbNWMA8POMvnKUnaVEeYzLVkGPTfiwHAtf2X5Mrk8vOq463ZgvTeQEQeuqULA2UlGgUm6MLz/cNaAi+gbyqXa2zhhHs9AlkElJ1034F+KIOA7cYHYz0QXGb+dLmuYulI2EG4UzrKwV/A2v12Z8tMXSkWtCI9yPT6xHes3M5g11yyU9THPf7+Dq1UOxDp8IahbpygCXqMr1D/Xm35/4Ot00JfJuji6JQqsYmW8hzx5DxFwdJhwxgMw++u4qdLRk0ErckaR72eVG9xPUDU42I75eFGIycc7rzJ3iM7mCGDOI18vKuet3tKNnzSx7V1VrObptT1R2cuiHibfZbhy6b2wx/1KHjoc6LefTKOfzqhHDaM3DL2z6jPE3VVBGG4y0GVEv4y7LIJDeL7Qn6b8hi8qICwLu8To0puVwU+ijzn641TZ5FSgS2Y6L1EGwFZvV/KoCPVOmh/wQ/mE+Rno+idqUgO9H2AS+QUstReXdUuX96DffPMgfhW+dQuN+m2wm0GAOr2yxT0stYTZ3dhHPbW99rvKn8hxeVnEDE2Yea/CGmr1BxbfTNyk3kQq3MJDJr1LVK7LgPadlTjNrEsKYXQc1Scz8O/tI6X7iLUXkV+SWwkXVxl3GPvRp2uXTZ003EHJB4ab9AMTtY0HYX1Tvh38SwinZFA/79txLFskwiKVA9hIupHonyVxPRpzh2R5Hn9BTqW/YR5J2VNTpQwgjKaiLktMtoy5iLM5G29w44ZNZiBAYIEnDVXsq28imar9LwFlZ+6YNNgWQqjNyc8gbilmeEX+gyO/F3qierPFxKB0/G8+wthD21WJN0JTH0wE/zLfngJNa7+49jFp2cMpI3sFr+SuAF0I/TOzw50Nttbk5k9PVPm6cvFGx1qv0n8RM5AaiJD5Gia0miywemcmXAiTH4UrA30iER4x2VYAmMkI/d3D/Fo9XJLGqnMSbhh6C1f8P4GRPnxZRGWwxovTBTsZ+1AqvoQwWIY39U6UycmxhLh+lXTBVf7HiSkyTyAEZttx6AVj/HQYQRnvJGR9vgK6vvN9EFdKYZeQ4cEj4A0Gm7VXltMys7oRKhz5Ppny6trfkqMv1cuc5/2SqKFpfznNTqg8bp/NyXNDzkBFL41zKw8DZ/SiGrkDZhp3ult1NAfSdM8ocj7LME79u4WUlzywfjJeRJaLJXCgMa6qTmXSLeCxkEmuhWBXo6DxqsPAGSUiz6fNa6NVbF0VQXdkO7Ccx9WxDjrnReUZWnDUBg7zeze0UTteun8ruQadGzuZTKGFpfPeVX9eHeyZGlmfTH7R/k0tf9WQx4SblKxZI8wIzr232qi4XUdajNVPy5u19/kNIl2wqqZ8OmVWuhHmzBXhBI2hIIZLqwN6kvzG28Y6xQoJNH5kVthplxehtzGZuekuewU3NtXvT6sI7SqA0D2xqGSkNlsUT01JTZ6uNzkLYXOcuNyxAzjMXM78VxJuPLVG71SSYpACtMDbXGbXYXe1hheziNRBOPqWbHBEtKwyfA2Wwkstxt9aCLmX2pz6dTKXDnjzhef7jcRLTdi20yCyEGZnY7xc5WSMsLguShlxSPftecVR+BMeVmm6MsdfKmDwbd9CVWGkip2G1SX+FQFM7rvO57k1e/BGx+VkevpaDAel+KjLA3YfykOR8Hm24q43AM4Py7NyB1mdiCjndWp2lSNCl5kpqoJYT676i4h4YRx9vQ6Cv7rMZqPBq5pY5XiqesTW6UDgXyc81J0dTherhlMGh18nI3Ev6dcQvTm3n8zIJ9VkPZcGODLbNB06Sl8m9A3R6iKsglTTMgG94WHe1ThwYJZUdJ19w7V3y9K9q3LDpICXrllQGZJ2A0oDXwGqDH9Fxl1LYO1ULl5itJkuTx29yPCYNxZpHvm80bMmITXu2Ygq8GKAtJz9nDktTUJqHkr5Sc91IT0Bmub2izQF6Yk77bVGNefVWrr+Kn91MC3Rqvny0AJ/jTIrOLVK8O3NCDRA72i4jG83kjYt3fbqG7g2bkY+dSWZ4Cn1cU3XD591gG7S9LCUkfKm6/PWM2QsW2pr7S+MdA+S5O1hv532slDSb18lRYKzVvo3BJVCRlcHhkl/lD1puD9KTDVx4rXFN8CKilKRsBZovLB/nobCUkT/O5LbQvkpb+T2HYhUnNhKNy70jlMWprY43F423T9/BxxdPdOgBb3RbDi8ND+e8gDMTMc0bXehWfBvaks9ayoFFl6O82GvBUyTF8FJtNaW+uD/C9iSuHk+WLAeDa/XQM43LhHlBYB/HP++y8yYyxvWthCIR/7Qo4jJDu3tMR4F9k6i0WyPB3/gVcBBotKFOA1qWV0UvsSHSOzSWzTVDfiSuRBpw51sWuBF7qLns3azmKrURmyL1zrgShVRyVlz+gYENqNSh1BXQjc9SmR53Z/FcaSwgtV9MuUdrhoDuDqOSU0+lvtiUvI3eJPvISzv/ENcaTfElD7q9VWx5Ye1e65bmmye0h+vyXRFj0Ne9amOE7HaV5sZOIuG7WReUXWlaAN63SshFpA7knEe1rdKcDRhNoEKYsG/LA6OI5XgkPvymwGx/bu0a4EyI8BsLlmx07Cl/+Uqj5zbuybrvdGGNYqog1xyNFlqdIRgCjHkUQd5j/J8jXHqB3Tvje9sQ5VlEtCe8AO4oybfwhDW4Mwch9spPiYr3q2VOqumk/VbKDTqY9pCw26tT8ooOxdtL1Az9N5p6G9ZoPZTajrs3JJ4ZSbcCkW/F9+7kfeHqLoBb3b1HyPqgw8++OB1WM2son8NCL3hYjINR6T+pecMBkvXvrWpMDm5/hnK4Bjpfk2cadnDFN4E2IoWGWEtUO/1gGUiRbvpVmYWyAZUqmztNsGX+XHUGZltgWIyY2KwX/0I25pJi2yy/VruT7SH7+Yw2HxPKZnsivXnUlXwVd5qWbcub+mGBQ7Etgv1srJUo1noe8/LmzzW5UrncmugHHzK31rMDIvIdhfpg69s4fvWIm2x6USR+fXNPK/Yqlh+xU45kO2t/BXLWigQwmqmPIyV+xdpX6YYRfDe9ysW8ymyGEUP+vfqG7G2E4Xaqsv1w9ydBktFpDVgyBOk0Mss0+fHpS81HzB6EXkxnoBF/MRIDX3n04GbZ8Nss6gIe+QePciqfkyADtbKMe+L+SpsC8JO8G+c1g1wA1i9BeOOw8bFOpr/AtZ3f1SYCDdriD8KOqvu5cVmp+F0r8X+NNke+5I/9K46llI+iwp/b2C2rlej1fqPuYJhcDCCe+7w8c+fqWMJzdZHRTAx2fyvRDexN46q+86kmgKd2nfLj7XRoqfS/YoI6K/9epkX9vFkReWc28KfGHwbjLPxT40pJNYsqTmW3KUD5u6NfQPmLeKdKfhRSQuScpvgwPapmtbWu1VuShfwNSgBx+gXmDQxvnzILc4SZ+DExggRs55gh7xXYpGBwQrEfWE1NUSKNvJ4osS07fhY6ZoywqunK8a/FQxnl3626nsIsQZCNVU0yYdN2TImsAA6Xv4BJ7F9q6mRmnwGo6Q5neUPzwal04Ui9yNQlXo9L2nXRQY3/F6Fn3oEvawGTlLMA0fnNkmbUD6VFJ0hjM6UMT6dxxudiNU0wZbV5FaRzZxOxGzQmzxXR9xjnDAcnH7HpweqUvwfRYWG/qtLkxKiUDc4P/Fve+L8yfjacRWZw8Zjhy30VCNOfe0XH5Nm7rATrjxYxpQSVyhiwrUwXs6J1aZao0cqP7Xr9FniV+SNISzxduEqLlvEghCYiKLBjZVuWYM9Mymhtrutd34VDM37dEkqm8Yk6esZrYPGUYzshCgPp88tv5a72n0n2Jl9BeKMkXNXUmsgKUON1kEnB9AmzQEMHWHvcJyElnrPl2aIyKrXoxcxacHZDa6ee0I6mJo96cLEy262YnISziR0uU+6ktfUPLaCrpEkKEgj9zBBdl2jWV+DTIWMRtzjGmAtE53LgKSoMRq8j2uATS93fEBShSqU43uxbIOCIdX64cUHKziCgmhdBNW5PV104u2AacyWh2OEA6nRqGGfqRDHlSbHlMLwv5JHwvftIes2deu/+eSUbZMBF2u9sHnYCO7UbUiANyPQu956y3J+ls5HQ/D63dlo3S6qQiAMLrPuSj0IurWNFlu78A8++OCDDz744IMPPvjgbfgfmH+lw6K7FHkAAAAASUVORK5CYII=\"","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n  return state.usersPage\r\n}\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUserCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n// example reselect\r\n// export const getUsersSuperSelector = createSelector(getUsers,\r\n//     (users: any) => {\r\n//     return users.filter(u => true) // example code\r\n// })\r\n","import {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unFollow,} from \"../../redux/users-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../general/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getCurrentPage,\r\n    getIsFetching, getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   users={this.props.users}\r\n                   currentPage={this.props.currentPage}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   onPageChangedCallback={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype mapDispatchToPropsType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleFollowingInProgress: (isFetching: boolean, userId: number | null) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\nexport type UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\n// const mapStateToProps = (state: AppStateType) => {\r\n//     return {\r\n//         users: state.usersPage,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress,\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow, unFollow, setCurrentPage,\r\n        toggleFollowingInProgress, getUsers: requestUsers\r\n    }),\r\n    /*withAuthRedirect*/\r\n)(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\ntype profileStatusType = {\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<profileStatusType> = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatus(status)\r\n    }\r\n    const onStatusChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '---'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChangeHandler} onBlur={deactivateEditMode} autoFocus={true}\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport s from './ProfileContent.module.css'\r\nimport {Preloader} from \"../../general/Preloader/Preloader\";\r\nimport photoAvatar from \"../../../assets/images/photoAvatar.jpg\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\ntype profileContentType = {\r\n    profile: any\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n\r\n}\r\n\r\nexport const ProfileContent: React.FC<profileContentType> = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img className={s.userPhotoImg} src={props.profile.photos.large || photoAvatar} alt='user'/>\r\n\r\n                <ProfileStatusWithHooks status={props.status}\r\n                               updateUserStatus={props.updateUserStatus}/>\r\n\r\n\r\n                <div>Full name: {props.profile.fullName}</div>\r\n                {props.profile.lookingForAJob ? <div>looking for a job</div> : ''}\r\n                <div>Contacts:</div>\r\n                <ul>\r\n                    {props.profile.contacts.github ? <li> GitHub: {props.profile.contacts.github}</li> : null}\r\n                    {props.profile.contacts.vk ? <li> vk: {props.profile.contacts.vk}</li> : null}\r\n                    {props.profile.contacts.facebook ? <li> facebook: {props.profile.contacts.facebook}</li> : null}\r\n                    {props.profile.contacts.instagram ? <li> instagram: {props.profile.contacts.instagram}</li> : null}\r\n                    {props.profile.contacts.twitter ? <li> twitter: {props.profile.contacts.twitter}</li> : null}\r\n                    {props.profile.contacts.website ? <li> website: {props.profile.contacts.website}</li> : null}\r\n                    {props.profile.contacts.youtube ? <li> youtube: {props.profile.contacts.youtube}</li> : null}\r\n                    {props.profile.contacts.mainLink ? <li> mainLink: {props.profile.contacts.mainLink}</li> : null}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\n\r\nexport type PostsType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<PostsType>\r\n    newPostText: string\r\n    profile: any\r\n    status: string\r\n}\r\n\r\nexport type InitialStateProfileReducerType = typeof initialState\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: v1(), message: 'Hey la lay', likesCount: 15},\r\n        {id: v1(), message: 'Bla bla', likesCount: 11}\r\n    ] as Array<PostsType>,\r\n    profile: null,\r\n    status: ''\r\n} as ProfilePageType\r\n\r\nexport const profileReducer = (state: InitialStateProfileReducerType = initialState, action: ActionsTypes): InitialStateProfileReducerType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: v1(),\r\n                    message: action.newPostText,\r\n                    likesCount: 0\r\n                },\r\n                ],\r\n            }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText: newPostText\r\n    } as const\r\n}\r\n\r\nexport const setUserProfile = (profile: any) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport const setUserStatus = (status: string) => {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status\r\n    } as const\r\n}\r\n\r\n//Thunk creator\r\n\r\nexport const getUserProfile = (userId: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.getProfile(userId).then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (userId: number) =>  (dispatch: Dispatch) => {\r\n      profileAPI.getStatus(userId)\r\n          .then(response => {\r\n          dispatch(setUserStatus(response.data))\r\n      })\r\n  }\r\n\r\nexport const updateUserStatus = (status: string) => (dispatch: Dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserStatus(status))\r\n            }\r\n        })\r\n}\r\n","import React from \"react\";\nimport s from './Post.module.css'\n\ntype postPropsType = {\n    message: string\n    likesCount: number\n}\n\nconst Post: React.FC<postPropsType> = (props) => {\n    return (\n        <div className={s.item}>\n            <img src='https://ezyschooling.com/_nuxt/img/default-avatar.7a6572e.png' alt={'user'}/>\n            {props.message}\n            <div>\n                like {props.likesCount}\n            </div>\n        </div>\n    )\n}\n\nexport default Post\n","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostsPropsType} from \"./MyPostsContainer\";\r\nimport * as Yup from \"yup\";\r\nimport s from './MyPosts.module.css'\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\n\r\n\r\nexport const MyPosts: React.FC<MyPostsPropsType> = (props) => {\r\n    let postsElement = props.posts.map(el => <Post key={el.id} message={el.message} likesCount={el.likesCount}/>)\r\n\r\n    return (\r\n        <div>\r\n            <PostForm addPostCallback={props.addPostCallback}/>\r\n            <div>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype FormPropsType = {\r\n    addPostCallback: (newPostText: string) => void\r\n}\r\n\r\ntype FormikDataType = {\r\n    newPostText: string\r\n}\r\n\r\nexport const PostForm = (props: FormPropsType) => {\r\n    const SignupSchema = Yup.object().shape({\r\n        newPostText: Yup.string()\r\n            .min(1, 'Too Short!')\r\n            .max(50, 'Too Long!')\r\n            .required('')\r\n    });\r\n\r\n    const {register, handleSubmit, formState: {errors}, resetField} = useForm<FormikDataType>({\r\n        resolver: yupResolver(SignupSchema),\r\n\r\n    });\r\n    const onSubmit: SubmitHandler<FormikDataType> = data => {\r\n        props.addPostCallback(data.newPostText)\r\n        resetField('newPostText')\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div>\r\n            <input {...register(\"newPostText\",)}\r\n                   type='newPostText'\r\n                   placeholder={'Enter text'}\r\n                   className={`${s.input} ${errors.newPostText ? s.errorInput : s.input}`}/>\r\n\r\n            <p style={{color: \"red\"}}>{errors.newPostText?.message}</p>\r\n        </div>\r\n        <button type=\"submit\">Add post</button>\r\n    </form>\r\n    )\r\n}\r\n","import {addPostAC, PostsType} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsTypeMyPosts = {\r\n    posts: Array<PostsType>\r\n    newPostText: string\r\n}\r\ntype MapDispatchToPropsTypeMyPosts = {\r\n    addPostCallback: (newPostText: string) => void\r\n}\r\nexport type MyPostsPropsType = MapStateToPropsTypeMyPosts & MapDispatchToPropsTypeMyPosts\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsTypeMyPosts => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsTypeMyPosts => {\r\n    return {\r\n        addPostCallback: (newPostText: string) => {\r\n            dispatch(addPostAC(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from \"react\";\r\nimport {ProfileContent} from \"./ProfileContent/ProfileContent\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\n\r\ntype StateType = {\r\n    profile: any\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nexport const Profile: React.FC<StateType> = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileContent profile={props.profile}\r\n                            status={props.status}\r\n                            updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, {ComponentType} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype MapStateToPropsType = {\r\n    profile: any\r\n    status: string\r\n    isAuth: boolean\r\n    authUserId: number | any\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getUserProfile: (userID: number | null) => void\r\n    getUserStatus: (userID: number | null) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\ntype StateAndDispatchPropsType = MapStateToPropsType & MapDispatchToPropsType\r\ntype ProfileContainerStateType = RouteComponentProps<PathParamsType> & StateAndDispatchPropsType\r\n\r\n\r\nexport class ProfileContainer extends React.Component<ProfileContainerStateType> {\r\n\r\n    componentDidMount() {\r\n        let userId = +this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Profile   {...this.props}\r\n                           profile={this.props.profile}\r\n                           status={this.props.status}\r\n                           updateUserStatus={this.props.updateUserStatus}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authUserId: state.auth.userId\r\n\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.css'\r\n\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logoutUserCallback: () => void\r\n}\r\n\r\nexport const Header: React.FC<HeaderType> = ({isAuth, login,logoutUserCallback}) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrPotIEiUTbNLUNoJE5gAdjdirbVcFSvLFvg&usqp=CAU'\r\n                alt={'Logo'}/>\r\n\r\n            {\r\n                isAuth\r\n                ? <div className={s.loginBlock}>{login} <button onClick={logoutUserCallback}>Logout</button> </div>\r\n                : <div className={s.loginBlock}>\r\n                    <NavLink to={'/login'}>Login</NavLink>\r\n                </div>\r\n            }\r\n\r\n            {/*<div className={s.loginBlock}>*/}\r\n            {/*    {props.isAuth ? props.login*/}\r\n            {/*        : <NavLink to={'/login'}>Login</NavLink>}*/}\r\n            {/*</div>*/}\r\n        </header>\r\n    )\r\n}","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA'\r\n\r\nexport type InitialStateAuthReducerType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n}\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    //isFetching: true\r\n}\r\n\r\nexport const authReducer = (state: InitialStateAuthReducerType = initialState, action: ActionsTypes): InitialStateAuthReducerType => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: SET_AUTH_USER_DATA,\r\n        payload: {userId, email, login, isAuth}\r\n\r\n    } as const\r\n}\r\n\r\n//Thunk creator\r\n\r\nexport const getAuthUser = () => (dispatch: Dispatch) => {\r\n    return authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true))\r\n            }\r\n        })\r\n\r\n}\r\n\r\nexport const loginUser = (email: string | null, password: string | null, rememberMe: boolean) => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        authAPI.login(email, password, rememberMe,)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUser())\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const logoutUser = () => {\r\n    return (dispatch: Dispatch) => {\r\n        authAPI.logout()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {logoutUser} from \"../../redux/auth-reducer\";\r\n\r\n\r\nexport class HeaderContainer extends React.Component<HeaderPropsType> {\r\n    render() {\r\n        return <Header {...this.props} logoutUserCallback={this.props.logoutUser}/>\r\n    }\r\n}\r\n\r\n\r\nexport type HeaderPropsType = mapStateToPropsType & mapDispatchToPropsType\r\ntype mapStateToPropsType = ReturnType<typeof mapStateToProps>\r\ntype mapDispatchToPropsType = {\r\n    logoutUser: () => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logoutUser})(HeaderContainer)","///////////////////////////////// react hook form\r\n\r\nimport React from \"react\";\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginPage = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    const SignupSchema = Yup.object().shape({\r\n        password: Yup.string()\r\n            .min(8, 'Too Short!')\r\n            .max(20, 'Too Long!')\r\n            .required('Required'),\r\n        email: Yup.string().email('Invalid email').required('Required'),\r\n    });\r\n    const {register, handleSubmit, formState: {errors}} = useForm<FormDataType>({\r\n        mode: 'onBlur',\r\n        resolver: yupResolver(SignupSchema),\r\n\r\n    });\r\n    const onSubmit: SubmitHandler<FormDataType> = data => {\r\n        dispatch(loginUser(data.email, data.password, data.rememberMe))\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className={s.formContainer}>\r\n\r\n            <div className={s.inputContainer}>\r\n                <input {...register(\"email\",)}\r\n                       type='email'\r\n                       placeholder={'Email'}\r\n                       autoFocus={true}\r\n                       className={`${s.input} ${errors.email ? s.errorInput : s.input}`}/>\r\n\r\n                <p>{errors.email?.message}</p>\r\n\r\n\r\n                <input {...register(\"password\")}\r\n                       type='password'\r\n                       placeholder={'Password'}\r\n                       className={`${s.input} ${errors.password ? s.errorInput : s.input}`}/>\r\n\r\n                <p>{errors.password?.message}</p>\r\n\r\n\r\n                 <input {...register(\"rememberMe\")}\r\n                   className={s.checkbox}\r\n                   type='checkbox'/>\r\n                <button type=\"submit\" className={s.button}>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\n////////////////////////////  useFormik\r\n/*\r\nimport React from 'react';\r\nimport {useFormik} from 'formik';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\n\r\n\r\ntype FormikDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const Login = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    const initialValues = {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false,\r\n    }\r\n\r\n    const onSubmit = (values: FormikDataType) => {\r\n        dispatch(loginUser(values.email, values.password, values.rememberMe))\r\n    }\r\n    const validationSchema = Yup.object().shape({\r\n        password: Yup.string()\r\n            .min(8, 'Too Short!')\r\n            .max(20, 'Too Long!')\r\n            .required('Required'),\r\n        email: Yup.string().email('Invalid email').required('Required'),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        onSubmit,\r\n        validationSchema\r\n    });\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <div>\r\n                <input\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.email}\r\n                    placeholder=\"Email\"\r\n                    className={`${s.input} ${formik.errors.email && formik.touched.email ? s.errorInput : s.input}`}\r\n                    onBlur={formik.handleBlur}\r\n                />\r\n            </div>\r\n\r\n            {formik.errors.email && formik.touched.email\r\n                ? (<div style={{color: \"red\"}}>{formik.errors.email}</div>)\r\n                : null}\r\n\r\n            <div>\r\n                <input\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password}\r\n                    placeholder=\"Password\"\r\n                    className={`${s.input} ${formik.errors.password && formik.touched.password ? s.errorInput : s.input}`}\r\n                    onBlur={formik.handleBlur}\r\n                />\r\n            </div>\r\n\r\n            {formik.errors.password && formik.touched.password\r\n                ? (<div style={{color: \"red\"}}>{formik.errors.password}</div>)\r\n                : null}\r\n\r\n            <div>\r\n                <input\r\n                    id=\"rememberMe\"\r\n                    name=\"rememberMe\"\r\n                    type=\"checkbox\"\r\n                    onChange={formik.handleChange}\r\n                />\r\n            </div>\r\n            <button type=\"submit\" disabled={!(formik.dirty && formik.isValid)} className={s.button}>Submit</button>\r\n        </form>\r\n    );\r\n}*/\r\n\r\n\r\n\r\n\r\n///////////////////////////////\r\n/*\r\nimport React from \"react\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Field, Form, Formik} from 'formik';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Dispatch} from \"redux\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\n\r\n\r\nexport const Login = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <LoginForm dispatch={dispatch}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\ntype FormikDataType = {\r\n    email: string | null\r\n    password: string | null\r\n    rememberMe: boolean\r\n}\r\ntype LoginFormPropsType = {\r\n    dispatch: Dispatch<any>\r\n}\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    password: Yup.string()\r\n        .min(8, 'Too Short!')\r\n        .max(20, 'Too Long!')\r\n        .required('Required'),\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n});\r\n\r\nconst LoginForm = (props: LoginFormPropsType) => (\r\n\r\n    <div>\r\n        <h3>Login</h3>\r\n        <Formik\r\n            initialValues={{email: '', password: '', rememberMe: false}}\r\n            validationSchema={SignupSchema}\r\n            onSubmit={(values: FormikDataType, actions) => {\r\n                props.dispatch(loginUser(values.email, values.password, values.rememberMe))\r\n                actions.setSubmitting(false);\r\n\r\n            }}\r\n            // validateOnMount\r\n        >\r\n            {({errors, touched, dirty, isValid}) => (\r\n                <Form>\r\n                    <div>\r\n                        <Field type=\"text\"\r\n                               className={errors.email && touched.email ? s.errorEmail : s.email}\r\n                               name=\"email\"\r\n                               placeholder=\"Email\"/>\r\n                    </div>\r\n                    {errors.email && touched.email\r\n                        ? (<div style={{color: \"red\"}}>{errors.email}</div>)\r\n                        : null}\r\n                    <div>\r\n                        <Field type=\"password\"\r\n                               className={errors.password && touched.password ? s.errorPassword : s.password}\r\n                               name=\"password\"\r\n                               placeholder=\"password\"/>\r\n                    </div>\r\n                    {errors.password && touched.password\r\n                        ? (<div style={{color: \"red\"}}>{errors.password}</div>)\r\n                        : null}\r\n                    <div>\r\n                        <Field name=\"remember me\" type={'checkbox'}/>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" disabled={!(dirty && isValid)}>Login</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n);\r\n*/\r\n\r\n\r\n\r\n","import React, {ComponentType} from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./Components/Navbar/Navbar\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport {Settings} from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {LoginPage} from \"./Components/Login/LoginPage\";\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUser} from \"./redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\n\r\n\r\nclass App extends React.Component<any> {\r\n\r\n    componentDidMount() {\r\n        this.props.getAuthUser()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='app-wrapper'>\r\n                < HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/settings' render={() => <Settings/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <LoginPage/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {getAuthUser}))(App)\r\n\r\n\r\n// FC using Hooks\r\n/*import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./Components/Navbar/Navbar\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport {Settings} from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {LoginPage} from \"./Components/Login/LoginPage\";\r\nimport {connect, useDispatch, useSelector} from \"react-redux\";\r\nimport {getAuthUser} from \"./redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./Components/general/Preloader/Preloader\";\r\n\r\n\r\nexport const App = () => {\r\n\r\n    const initialized = useSelector<AppStateType, boolean>(state => state.app.initialized)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp())\r\n    }, [])\r\n\r\n    if (!initialized) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className='app-wrapper'>\r\n            < HeaderContainer/>\r\n            <Navbar/>\r\n            <div className='app-wrapper-content'>\r\n                <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                <Route path='/settings' render={() => <Settings/>}/>\r\n                <Route path='/users' render={() => <UsersContainer/>}/>\r\n                <Route path='/login' render={() => <LoginPage/>}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}*/\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\n\r\n\r\nexport type SidebarType = {}\r\n\r\nconst initialState = {}\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {Dispatch} from \"redux\";\r\nimport {getAuthUser} from \"./auth-reducer\";\r\n\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nexport type InitialStatAppReducerType = {\r\n    initialized: boolean\r\n}\r\n\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialStatAppReducerType = initialState, action: ActionsTypes): InitialStatAppReducerType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\n// action\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED} as const)\r\n\r\n\r\n//Thunk creator\r\n\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    debugger\r\n    let promise = dispatch(getAuthUser())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized())\r\n        })\r\n\r\n}\r\n\r\n\r\n","import {combineReducers, createStore, applyMiddleware} from \"redux\";\r\nimport {dialogReducer} from \"./dialog-reducer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </BrowserRouter>, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__R_ACZ\",\"dialogsContainer\":\"Dialogs_dialogsContainer__2r-jA\",\"dialogsItem\":\"Dialogs_dialogsItem__3kp7G\",\"messages\":\"Dialogs_messages__Nmt2I\",\"message\":\"Dialogs_message__3f32W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2m4Cj\",\"item\":\"Navbar_item__3gY1P\",\"active\":\"Navbar_active__1Khgz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1rpAC\",\"selectPageActive\":\"Users_selectPageActive__1msBc\",\"selectPage\":\"Users_selectPage__2Jnyx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"MyPosts_input__31FQr\",\"errorInput\":\"MyPosts_errorInput__21Llc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1SWsU\",\"loginBlock\":\"Header_loginBlock__1UZHx\"};"],"sourceRoot":""}
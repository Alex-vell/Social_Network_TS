{"version":3,"sources":["Components/general/Preloader/Preloader.module.css","Components/Profile/ProfileContent/ProfileContent.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/Dialogs/Dialogs.module.css","Components/Navbar/Navbar.module.css","reportWebVitals.ts","Components/Navbar/Navbar.tsx","redux/dialog-reducer.tsx","Components/Dialogs/DialogItem/DialogItem.tsx","Components/Dialogs/Message/Message.tsx","Components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","Components/Dialogs/DialogsContainer.tsx","Components/Settings/Settings.tsx","api/api.ts","redux/users-reducer.tsx","assets/images/photoAvatar.jpg","Components/Users/Users.tsx","Components/general/Preloader/Preloader.tsx","assets/images/preloader.gif","redux/users-selectors.ts","Components/Users/UsersContainer.tsx","Components/Profile/ProfileContent/ProfileStatusWithHooks.tsx","Components/Profile/ProfileContent/ProfileContent.tsx","redux/profile-reducer.tsx","Components/Profile/MyPosts/Post/Post.tsx","Components/Profile/MyPosts/MyPosts.tsx","Components/Profile/MyPosts/MyPostsContainer.tsx","Components/Profile/Profile.tsx","Components/Profile/ProfileContainer.tsx","Components/Header/Header.tsx","redux/auth-reducer.tsx","utills/error-utils.ts","Components/Header/HeaderContainer.tsx","Components/Login/LoginPage.tsx","redux/app-reducer.tsx","Components/common/Error404/Error404.tsx","App.tsx","redux/sidebar-reducer.tsx","redux/redux-store.ts","index.tsx","Components/Login/Login.module.css","Components/Users/Users.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Header/Header.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","active","ADD_MESSAGE","initialState","dialogs","id","v1","name","messages","message","DialogsItem","props","path","dialog","Message","MessageForm","initialValues","newMessageText","onSubmit","values","actions","addMessageCallback","setSubmitting","resetForm","as","type","placeholder","mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","dialogsPage","dispatch","sendMessageAC","dialogsElements","map","el","messagesElements","dialogsContainer","dialogsItem","Settings","instance","axios","create","withCredentials","baseURL","headers","authAPI","get","data","post","delete","usersAPI","currentPage","pageSize","response","userId","profileAPI","status","put","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","photos","small","large","followed","totalUsersCount","isFetching","followingInProgress","setToggleIsFetching","toggleFollowingInProgress","Users","pages","pagesCount","Math","ceil","i","push","p","styles","selectPageActive","selectPage","onClick","event","onPageChangedCallback","u","src","photoAvatar","userPhoto","alt","disabled","some","unFollow","follow","Preloader","preloader","getUsers","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","onPageChanged","pageNumber","setCurrentPage","this","React","resultCode","setFollow","setUnFollow","page","totalCount","items","ProfileStatusWithHooks","updateUserStatus","useState","editMode","setEditMode","statusValue","setStatusValue","useEffect","onDoubleClick","onChange","e","currentTarget","value","onBlur","autoFocus","ProfileContent","profile","userPhotoImg","fullName","lookingForAJob","contacts","github","vk","facebook","instagram","twitter","website","youtube","mainLink","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","posts","likesCount","setUserStatus","Post","PostForm","SignupSchema","Yup","shape","newPostText","min","max","required","useForm","resolver","yupResolver","register","handleSubmit","errors","formState","resetField","addPostCallback","input","errorInput","style","color","MyPostsContainer","profilePage","addPostAC","postsElement","Profile","ProfileContainer","match","params","authUserId","history","getUserProfile","getUserStatus","prevProps","prevState","withRouter","Header","login","logoutUserCallback","header","loginBlock","SET_AUTH_USER_DATA","email","error","setAuthUserData","payload","setError","getAuthUser","loginUser","length","handleServerAppError","HeaderContainer","logoutUser","LoginPage","useSelector","useDispatch","validationSchema","password","formik","useFormik","rememberMe","handleChange","touched","handleBlur","checked","dirty","isValid","button","SET_INITIALIZED","initialized","Error404","App","initializeApp","exact","render","DialogsContainer","from","app","promise","Promise","all","rootReducer","combineReducers","action","filter","postId","sidebar","f","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14e94a89.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__quI4H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileContent_image__2CuWr\",\"userPhotoImg\":\"ProfileContent_userPhotoImg__1rhE-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__M1xtD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__R_ACZ\",\"dialogsContainer\":\"Dialogs_dialogsContainer__2r-jA\",\"dialogsItem\":\"Dialogs_dialogsItem__3kp7G\",\"messages\":\"Dialogs_messages__Nmt2I\",\"message\":\"Dialogs_message__3f32W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2m4Cj\",\"item\":\"Navbar_item__3gY1P\",\"active\":\"Navbar_active__1Khgz\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css'\r\n\r\ntype navbarPropsType = {}\r\n\r\nexport const Navbar: React.FC<navbarPropsType> = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n           {/* <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>*/}\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nconst ADD_MESSAGE = 'ADD-MESSAGE';\r\n\r\n\r\nexport type DialogsType = {\r\n    id: string\r\n    name: string\r\n}\r\nexport type MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\nexport type DialogsPageType = {\r\n    messages: Array<MessagesType>\r\n    dialogs: Array<DialogsType>\r\n    newMessageText: string\r\n}\r\n\r\nexport type InitialStateDialogReducerType = typeof initialState\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: v1(), name: 'Alex'},\r\n        {id: v1(), name: 'Natali'},\r\n        {id: v1(), name: 'Anna'}\r\n    ] as Array<DialogsType>,\r\n    messages: [\r\n        {id: v1(), message: 'I am a developer'},\r\n        {id: v1(), message: 'bla bla'},\r\n        {id: v1(), message: 'la la'}\r\n    ] as Array<MessagesType>,\r\n} as DialogsPageType\r\n\r\nexport const dialogReducer = (state: InitialStateDialogReducerType = initialState, action: ActionsTypes): InitialStateDialogReducerType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_MESSAGE:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), message: action.newMessageText}]\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageText: string) => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        newMessageText: newMessageText\r\n    } as const\r\n}","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './../Dialogs.module.css'\r\n\r\ntype dialogsItemType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nexport const DialogsItem = (props: dialogsItemType) => {\r\n    let path = '/dialogs/' + props.id\r\n\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n}","import React from \"react\";\r\nimport s from './../Dialogs.module.css'\r\n\r\n\r\ntype messageType = {\r\n    message: string\r\n}\r\n\r\nexport const Message = (props: messageType) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n}","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport {DialogsItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from \"./Message/Message\";\r\nimport {DialogsPropsType} from \"./DialogsContainer\";\r\nimport {Field, Form, Formik, FormikProps} from \"formik\";\r\n\r\n\r\nexport const Dialogs: React.FC<DialogsPropsType> = (props) => {\r\n\r\n    let state = props.dialogsPage\r\n\r\n    let dialogsElements = state.dialogs.map(el => <DialogsItem key={el.id} id={el.id} name={el.name}/>)\r\n    let messagesElements = state.messages.map(el => <Message key={el.id} message={el.message}/>)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsContainer}>\r\n                <div className={s.dialogsItem}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n\r\n            <MessageForm addMessageCallback={props.addMessageCallback}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ntype FormPropsType = {\r\n    addMessageCallback: (newMessageText: string) => void\r\n}\r\n\r\ntype FormikDataType = {\r\n    newMessageText: string\r\n}\r\n\r\nexport const MessageForm = (props: FormPropsType) => {\r\n    return (\r\n        <Formik\r\n            initialValues={{newMessageText: ''}}\r\n            onSubmit={(values: FormikDataType, actions) => {\r\n                props.addMessageCallback(values.newMessageText)\r\n                actions.setSubmitting(false);\r\n                actions.resetForm();\r\n            }}\r\n        >\r\n            {(props: FormikProps<FormikDataType>) => (\r\n                <Form>\r\n                    <div><Field as={'textarea'} type=\"text\" name=\"newMessageText\" placeholder=\"Enter text\"/></div>\r\n                    <button type=\"submit\">Add post</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStatePropsType) => {\r\n\r\n        const {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    const ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n\r\n    return ConnectedRedirectComponent\r\n}","import {sendMessageAC, InitialStateDialogReducerType} from \"../../redux/dialog-reducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch, compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {ComponentType} from \"react\";\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: InitialStateDialogReducerType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    addMessageCallback: (newMessageText: string) => void\r\n\r\n}\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addMessageCallback: (newMessageText: string) => {\r\n            dispatch(sendMessageAC(newMessageText))\r\n        },\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n) (Dialogs)","import React from \"react\";\r\n\r\nexport const Settings = () => {\r\n\r\n    return (\r\n        <>\r\n            <h3> Settings </h3>\r\n        </>\r\n    )\r\n}","import axios, {AxiosResponse} from \"axios\";\r\nimport {UserType} from \"../redux/users-reducer\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '4fa02be0-fc45-4f63-a405-9880e98f8e95'\r\n    },\r\n})\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<CommonResponseType<AuthMeType>>('auth/me')\r\n    },\r\n    login(data: LoginParamsType) {\r\n        return instance.post<LoginParamsType, AxiosResponse<CommonResponseType<{ userId: number }>>>('/auth/login', data)  ///////\r\n    },\r\n    logout() {\r\n        return instance.delete<CommonResponseType>('/auth/login')\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<GetUsersType>(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    unFollowUser(userId: number | null) {\r\n        return instance.delete<CommonResponseType>(`follow/${userId}`)\r\n    },\r\n    followUser(userId: number | null) {\r\n        return instance.post<CommonResponseType>(`follow/${userId}`)\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: number) {\r\n        return instance.get<GetProfileDataType>(`profile/${userId}`)\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n       // return instance.put<CommonResponseType>('profile/status/', {status})  ////////\r\n        return instance.put<{ status: string }, AxiosResponse<CommonResponseType>>('profile/status/', {status})\r\n    },\r\n\r\n}\r\n\r\n\r\n// types\r\n\r\nexport type CommonResponseType<T = {}> = {\r\n    fieldsErrors: Array<string>\r\n    messages: Array<string>\r\n    resultCode: number\r\n    data: T\r\n}\r\n\r\n// Auth types\r\ntype AuthMeType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe?: boolean\r\n    captcha?: string\r\n}\r\n\r\n// usersAPI types\r\ntype GetUsersType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string\r\n}\r\n\r\n//profileAPI types\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type PhotosType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type GetProfileDataType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\n// type locationType = {\r\n//     city: string\r\n//     country: string\r\n// }\r\ntype PhotoType = {\r\n    small: string | null\r\n    large: string | null\r\n}\r\nexport type UserType = {\r\n    id: number | null\r\n    name: string | null\r\n    status: string | null\r\n    photos: PhotoType\r\n    followed: boolean\r\n\r\n    //location: locationType\r\n}\r\n/*export type InitialStateUsersReducerType = typeof initialState*/\r\nexport type InitialStateUsersReducerType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\n\r\nconst initialState = {\r\n    users: [\r\n        {\r\n            name: null,\r\n            id: null,\r\n            photos: {\r\n                small: null,\r\n                large: null\r\n            },\r\n            status: null,\r\n            followed: false\r\n        }\r\n    ],\r\n    pageSize: 100,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nexport const usersReducer = (state: InitialStateUsersReducerType = initialState, action: ActionsTypes): InitialStateUsersReducerType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: true}\r\n                    }\r\n                    return f\r\n                })\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(f => {\r\n                    if (f.id === action.userId) {\r\n                        return {...f, followed: false}\r\n                    }\r\n                    return f\r\n                })\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\n// action\r\n\r\nexport const setFollow = (userId: number | null) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    } as const\r\n}\r\nexport const setUnFollow = (userId: number | null) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    } as const\r\n}\r\nexport const setUsers = (users: Array<UserType>) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    } as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    } as const\r\n}\r\nexport const setTotalUsersCount = (totalCount: number) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalCount\r\n    } as const\r\n}\r\nexport const setToggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    } as const\r\n}\r\nexport const toggleFollowingInProgress = (isFetching: boolean, userId: number | null) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId,\r\n    } as const\r\n}\r\n\r\n//Thunk Creator\r\n\r\nexport const requestUsers = (page: number, pageSize: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(setToggleIsFetching(true))\r\n\r\n        usersAPI.getUsers(page, pageSize).then(data => {\r\n            dispatch(setUsers(data.items))\r\n            dispatch(setTotalUsersCount(data.totalCount))\r\n            dispatch(setToggleIsFetching(false))\r\n        })\r\n    }\r\n}\r\n\r\nexport const unFollow = (userId: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        usersAPI.unFollowUser(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUnFollow(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number | null) => {\r\n    return (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingInProgress(true, userId))\r\n        usersAPI.followUser(userId).then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setFollow(userId))\r\n            }\r\n            dispatch(toggleFollowingInProgress(false, userId))\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/photoAvatar.22d7f1c8.jpg\";","import React from \"react\";\r\nimport styles from './Users.module.css'\r\nimport photoAvatar from \"../../assets/images/photoAvatar.jpg\";\r\nimport {InitialStateUsersReducerType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype UsersType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    users: InitialStateUsersReducerType\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    onPageChangedCallback: (pageNumber: number) => void\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\n\r\nexport const Users = (props: UsersType) => {\r\n    let pages = []\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            {pages.map(p => {\r\n                return <span className={props.currentPage === p && styles.selectPageActive\r\n                    ? styles.selectPageActive\r\n                    : styles.selectPage}\r\n                             key={p}\r\n                             onClick={(event => props.onPageChangedCallback(p))}>{p}</span>\r\n            })}\r\n\r\n        </div>\r\n        {\r\n            props.users.users.map(u => <div key={u.id}>\r\n        <span>\r\n          <div>\r\n            <NavLink to={'./profile/' + u.id}> <img src={u.photos.small !== null ? u.photos.small : photoAvatar}\r\n                                                    className={styles.userPhoto} alt={'User'}/></NavLink>\r\n          </div>\r\n          <div>\r\n            {u.followed\r\n                ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n                    props.unFollow(u.id)\r\n\r\n                }}>Unfollow</button>\r\n\r\n                : <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n\r\n                    props.follow(u.id)\r\n\r\n                }}>Follow</button>}\r\n          </div>\r\n        </span>\r\n                <span>\r\n          <span>\r\n            <div>{u.name}</div>\r\n            <div>{u.status}</div>\r\n          </span>\r\n          <span>\r\n            <div>{'u.location.country'}</div>\r\n            <div>{'u.location.city'}</div>\r\n          </span>\r\n        </span>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n","import React from \"react\";\r\nimport preloader from '../../../assets/images/preloader.gif'\r\nimport s from './Preloader.module.css'\r\n\r\nexport const Preloader = () => {\r\n  return (\r\n      <>\r\n        <img className={s.preloader} src={preloader} alt={'preloader'}/>\r\n      </>\r\n\r\n  )\r\n}","export default \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAANcAAADqCAMAAAAGRyD0AAAAhFBMVEX39/fppEL4/P/3+fvpoz/pojvooTjonSr3+fzooDXoni/onzLonSj4+Pfz27738+315tT27uPy1rT39fD04MjqqUvssF/rq1Hy2LjwyZnvworuvX315tP38en2693ttm3tu3rx0KfstGnwx5TxzqLvw4zrrVjuuHPttWrz3cTvyJfw0a1oT2LNAAANH0lEQVR4nO1daYOqvA6WpKVQwA33bdxGj+P//38XHF+l0FJAQJjr8/Uch6Zt0uzpdD744IMPPvjgg/93oGVBCAvx3UspDwiwGX6f9/v9dt5dwx+hDGHzTblNKSGUmjab7nx495pKAGy+mGlEQGx+8K13L+tFoLdgxIjDtGftPjIcjM0EVSH40msxm1krJ3lY9yObtJcwa8VVZBkGPXnvXl9B4Fp5WrcT+2ocj+HvIxu8smn/C6ZpZBmGc2wUYQi97uFrahin83zUUb+yMLdTyTIMd9McFkPo7l3bJCGo6fBlX0EZrl0NWQbZN+bAYDQWZQFlX2vp6mBBdXQZbNWMA8POMvnKUnaVEeYzLVkGPTfiwHAtf2X5Mrk8vOq463ZgvTeQEQeuqULA2UlGgUm6MLz/cNaAi+gbyqXa2zhhHs9AlkElJ1034F+KIOA7cYHYz0QXGb+dLmuYulI2EG4UzrKwV/A2v12Z8tMXSkWtCI9yPT6xHes3M5g11yyU9THPf7+Dq1UOxDp8IahbpygCXqMr1D/Xm35/4Ot00JfJuji6JQqsYmW8hzx5DxFwdJhwxgMw++u4qdLRk0ErckaR72eVG9xPUDU42I75eFGIycc7rzJ3iM7mCGDOI18vKuet3tKNnzSx7V1VrObptT1R2cuiHibfZbhy6b2wx/1KHjoc6LefTKOfzqhHDaM3DL2z6jPE3VVBGG4y0GVEv4y7LIJDeL7Qn6b8hi8qICwLu8To0puVwU+ijzn641TZ5FSgS2Y6L1EGwFZvV/KoCPVOmh/wQ/mE+Rno+idqUgO9H2AS+QUstReXdUuX96DffPMgfhW+dQuN+m2wm0GAOr2yxT0stYTZ3dhHPbW99rvKn8hxeVnEDE2Yea/CGmr1BxbfTNyk3kQq3MJDJr1LVK7LgPadlTjNrEsKYXQc1Scz8O/tI6X7iLUXkV+SWwkXVxl3GPvRp2uXTZ003EHJB4ab9AMTtY0HYX1Tvh38SwinZFA/79txLFskwiKVA9hIupHonyVxPRpzh2R5Hn9BTqW/YR5J2VNTpQwgjKaiLktMtoy5iLM5G29w44ZNZiBAYIEnDVXsq28imar9LwFlZ+6YNNgWQqjNyc8gbilmeEX+gyO/F3qierPFxKB0/G8+wthD21WJN0JTH0wE/zLfngJNa7+49jFp2cMpI3sFr+SuAF0I/TOzw50Nttbk5k9PVPm6cvFGx1qv0n8RM5AaiJD5Gia0miywemcmXAiTH4UrA30iER4x2VYAmMkI/d3D/Fo9XJLGqnMSbhh6C1f8P4GRPnxZRGWwxovTBTsZ+1AqvoQwWIY39U6UycmxhLh+lXTBVf7HiSkyTyAEZttx6AVj/HQYQRnvJGR9vgK6vvN9EFdKYZeQ4cEj4A0Gm7VXltMys7oRKhz5Ppny6trfkqMv1cuc5/2SqKFpfznNTqg8bp/NyXNDzkBFL41zKw8DZ/SiGrkDZhp3ult1NAfSdM8ocj7LME79u4WUlzywfjJeRJaLJXCgMa6qTmXSLeCxkEmuhWBXo6DxqsPAGSUiz6fNa6NVbF0VQXdkO7Ccx9WxDjrnReUZWnDUBg7zeze0UTteun8ruQadGzuZTKGFpfPeVX9eHeyZGlmfTH7R/k0tf9WQx4SblKxZI8wIzr232qi4XUdajNVPy5u19/kNIl2wqqZ8OmVWuhHmzBXhBI2hIIZLqwN6kvzG28Y6xQoJNH5kVthplxehtzGZuekuewU3NtXvT6sI7SqA0D2xqGSkNlsUT01JTZ6uNzkLYXOcuNyxAzjMXM78VxJuPLVG71SSYpACtMDbXGbXYXe1hheziNRBOPqWbHBEtKwyfA2Wwkstxt9aCLmX2pz6dTKXDnjzhef7jcRLTdi20yCyEGZnY7xc5WSMsLguShlxSPftecVR+BMeVmm6MsdfKmDwbd9CVWGkip2G1SX+FQFM7rvO57k1e/BGx+VkevpaDAel+KjLA3YfykOR8Hm24q43AM4Py7NyB1mdiCjndWp2lSNCl5kpqoJYT676i4h4YRx9vQ6Cv7rMZqPBq5pY5XiqesTW6UDgXyc81J0dTherhlMGh18nI3Ev6dcQvTm3n8zIJ9VkPZcGODLbNB06Sl8m9A3R6iKsglTTMgG94WHe1ThwYJZUdJ19w7V3y9K9q3LDpICXrllQGZJ2A0oDXwGqDH9Fxl1LYO1ULl5itJkuTx29yPCYNxZpHvm80bMmITXu2Ygq8GKAtJz9nDktTUJqHkr5Sc91IT0Bmub2izQF6Yk77bVGNefVWrr+Kn91MC3Rqvny0AJ/jTIrOLVK8O3NCDRA72i4jG83kjYt3fbqG7g2bkY+dSWZ4Cn1cU3XD591gG7S9LCUkfKm6/PWM2QsW2pr7S+MdA+S5O1hv532slDSb18lRYKzVvo3BJVCRlcHhkl/lD1puD9KTDVx4rXFN8CKilKRsBZovLB/nobCUkT/O5LbQvkpb+T2HYhUnNhKNy70jlMWprY43F423T9/BxxdPdOgBb3RbDi8ND+e8gDMTMc0bXehWfBvaks9ayoFFl6O82GvBUyTF8FJtNaW+uD/C9iSuHk+WLAeDa/XQM43LhHlBYB/HP++y8yYyxvWthCIR/7Qo4jJDu3tMR4F9k6i0WyPB3/gVcBBotKFOA1qWV0UvsSHSOzSWzTVDfiSuRBpw51sWuBF7qLns3azmKrURmyL1zrgShVRyVlz+gYENqNSh1BXQjc9SmR53Z/FcaSwgtV9MuUdrhoDuDqOSU0+lvtiUvI3eJPvISzv/ENcaTfElD7q9VWx5Ye1e65bmmye0h+vyXRFj0Ne9amOE7HaV5sZOIuG7WReUXWlaAN63SshFpA7knEe1rdKcDRhNoEKYsG/LA6OI5XgkPvymwGx/bu0a4EyI8BsLlmx07Cl/+Uqj5zbuybrvdGGNYqog1xyNFlqdIRgCjHkUQd5j/J8jXHqB3Tvje9sQ5VlEtCe8AO4oybfwhDW4Mwch9spPiYr3q2VOqumk/VbKDTqY9pCw26tT8ooOxdtL1Az9N5p6G9ZoPZTajrs3JJ4ZSbcCkW/F9+7kfeHqLoBb3b1HyPqgw8++OB1WM2son8NCL3hYjINR6T+pecMBkvXvrWpMDm5/hnK4Bjpfk2cadnDFN4E2IoWGWEtUO/1gGUiRbvpVmYWyAZUqmztNsGX+XHUGZltgWIyY2KwX/0I25pJi2yy/VruT7SH7+Yw2HxPKZnsivXnUlXwVd5qWbcub+mGBQ7Etgv1srJUo1noe8/LmzzW5UrncmugHHzK31rMDIvIdhfpg69s4fvWIm2x6USR+fXNPK/Yqlh+xU45kO2t/BXLWigQwmqmPIyV+xdpX6YYRfDe9ysW8ymyGEUP+vfqG7G2E4Xaqsv1w9ydBktFpDVgyBOk0Mss0+fHpS81HzB6EXkxnoBF/MRIDX3n04GbZ8Nss6gIe+QePciqfkyADtbKMe+L+SpsC8JO8G+c1g1wA1i9BeOOw8bFOpr/AtZ3f1SYCDdriD8KOqvu5cVmp+F0r8X+NNke+5I/9K46llI+iwp/b2C2rlej1fqPuYJhcDCCe+7w8c+fqWMJzdZHRTAx2fyvRDexN46q+86kmgKd2nfLj7XRoqfS/YoI6K/9epkX9vFkReWc28KfGHwbjLPxT40pJNYsqTmW3KUD5u6NfQPmLeKdKfhRSQuScpvgwPapmtbWu1VuShfwNSgBx+gXmDQxvnzILc4SZ+DExggRs55gh7xXYpGBwQrEfWE1NUSKNvJ4osS07fhY6ZoywqunK8a/FQxnl3626nsIsQZCNVU0yYdN2TImsAA6Xv4BJ7F9q6mRmnwGo6Q5neUPzwal04Ui9yNQlXo9L2nXRQY3/F6Fn3oEvawGTlLMA0fnNkmbUD6VFJ0hjM6UMT6dxxudiNU0wZbV5FaRzZxOxGzQmzxXR9xjnDAcnH7HpweqUvwfRYWG/qtLkxKiUDc4P/Fve+L8yfjacRWZw8Zjhy30VCNOfe0XH5Nm7rATrjxYxpQSVyhiwrUwXs6J1aZao0cqP7Xr9FniV+SNISzxduEqLlvEghCYiKLBjZVuWYM9Mymhtrutd34VDM37dEkqm8Yk6esZrYPGUYzshCgPp88tv5a72n0n2Jl9BeKMkXNXUmsgKUON1kEnB9AmzQEMHWHvcJyElnrPl2aIyKrXoxcxacHZDa6ee0I6mJo96cLEy262YnISziR0uU+6ktfUPLaCrpEkKEgj9zBBdl2jWV+DTIWMRtzjGmAtE53LgKSoMRq8j2uATS93fEBShSqU43uxbIOCIdX64cUHKziCgmhdBNW5PV104u2AacyWh2OEA6nRqGGfqRDHlSbHlMLwv5JHwvftIes2deu/+eSUbZMBF2u9sHnYCO7UbUiANyPQu956y3J+ls5HQ/D63dlo3S6qQiAMLrPuSj0IurWNFlu78A8++OCDDz744IMPPvjgbfgfmH+lw6K7FHkAAAAASUVORK5CYII=\"","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n  return state.usersPage\r\n}\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUserCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n// example reselect\r\n// export const getUsersSuperSelector = createSelector(getUsers,\r\n//     (users: any) => {\r\n//     return users.filter(u => true) // example code\r\n// })\r\n","import {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unFollow,} from \"../../redux/users-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../general/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getCurrentPage,\r\n    getIsFetching, getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   users={this.props.users}\r\n                   currentPage={this.props.currentPage}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   onPageChangedCallback={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype mapDispatchToPropsType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleFollowingInProgress: (isFetching: boolean, userId: number | null) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\nexport type UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow, unFollow, setCurrentPage,\r\n        toggleFollowingInProgress, getUsers: requestUsers\r\n    }),\r\n    /*withAuthRedirect*/\r\n)(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\ntype profileStatusType = {\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<profileStatusType> = ({status, updateUserStatus}) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [statusValue, setStatusValue] = useState(status)\r\n\r\n    useEffect(() => {\r\n        setStatusValue(status)\r\n    }, [status])\r\n\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        updateUserStatus(statusValue)\r\n    }\r\n    const onStatusChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatusValue(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{status || '---'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChangeHandler} onBlur={deactivateEditMode} autoFocus={true}\r\n                       value={statusValue}/>\r\n            </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport s from './ProfileContent.module.css'\r\nimport {Preloader} from \"../../general/Preloader/Preloader\";\r\nimport photoAvatar from \"../../../assets/images/photoAvatar.jpg\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\ntype profileContentType = {\r\n    profile: any\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n\r\n}\r\n\r\nexport const ProfileContent: React.FC<profileContentType> = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img className={s.userPhotoImg} src={props.profile.photos.large || photoAvatar} alt='user'/>\r\n\r\n                <ProfileStatusWithHooks status={props.status}\r\n                               updateUserStatus={props.updateUserStatus}/>\r\n\r\n\r\n                <div>Full name: {props.profile.fullName}</div>\r\n                {props.profile.lookingForAJob ? <div>looking for a job</div> : ''}\r\n                <div>Contacts:</div>\r\n                <ul>\r\n                    {props.profile.contacts.github ? <li> GitHub: {props.profile.contacts.github}</li> : null}\r\n                    {props.profile.contacts.vk ? <li> vk: {props.profile.contacts.vk}</li> : null}\r\n                    {props.profile.contacts.facebook ? <li> facebook: {props.profile.contacts.facebook}</li> : null}\r\n                    {props.profile.contacts.instagram ? <li> instagram: {props.profile.contacts.instagram}</li> : null}\r\n                    {props.profile.contacts.twitter ? <li> twitter: {props.profile.contacts.twitter}</li> : null}\r\n                    {props.profile.contacts.website ? <li> website: {props.profile.contacts.website}</li> : null}\r\n                    {props.profile.contacts.youtube ? <li> youtube: {props.profile.contacts.youtube}</li> : null}\r\n                    {props.profile.contacts.mainLink ? <li> mainLink: {props.profile.contacts.mainLink}</li> : null}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {profileAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nexport type PostsType = {\r\n    id: number\r\n    message: string\r\n    likesCount: number\r\n}\r\nexport type ProfilePageType = {\r\n    posts: Array<PostsType>\r\n    newPostText: string\r\n    profile: any\r\n    status: string\r\n}\r\n\r\nexport type InitialStateProfileReducerType = typeof initialState\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hey la lay', likesCount: 15},\r\n        {id: 2, message: 'Bla bla', likesCount: 11}\r\n    ] as Array<PostsType>,\r\n    profile: null,\r\n    status: ''\r\n} as ProfilePageType\r\n\r\nexport const profileReducer = (state: InitialStateProfileReducerType = initialState, action: ActionsTypes): InitialStateProfileReducerType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, {\r\n                    id: 3,\r\n                    message: action.newPostText,\r\n                    likesCount: 0\r\n                },\r\n                ],\r\n            }\r\n\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n\r\n        case \"DELETE_POST\":\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPostAC = (newPostText: string) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText: newPostText\r\n    } as const\r\n}\r\n\r\nexport const setUserProfile = (profile: any) => {\r\n    return {\r\n        type: SET_USER_PROFILE,\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport const setUserStatus = (status: string) => {\r\n    return {\r\n        type: SET_USER_STATUS,\r\n        status\r\n    } as const\r\n}\r\n\r\nexport const deletePostAC = (postId: number) => {\r\n    return {\r\n        type: DELETE_POST,\r\n        postId\r\n    } as const\r\n}\r\n\r\n//Thunk creator\r\n\r\nexport const getUserProfile = (userId: number) => {\r\n    return (dispatch: Dispatch) => {\r\n        profileAPI.getProfile(userId).then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n        })\r\n    }\r\n}\r\n\r\nexport const getUserStatus = (userId: number) =>  (dispatch: Dispatch) => {\r\n      profileAPI.getStatus(userId)\r\n          .then(response => {\r\n          dispatch(setUserStatus(response.data))\r\n      })\r\n  }\r\n\r\nexport const updateUserStatus = (status: string) => (dispatch: Dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setUserStatus(status))\r\n            }\r\n        })\r\n}\r\n","import React from \"react\";\nimport s from './Post.module.css'\n\ntype postPropsType = {\n    message: string\n    likesCount: number\n}\n\nconst Post: React.FC<postPropsType> = (props) => {\n    return (\n        <div className={s.item}>\n            <img src='https://ezyschooling.com/_nuxt/img/default-avatar.7a6572e.png' alt={'user'}/>\n            {props.message}\n            <div>\n                like {props.likesCount}\n            </div>\n        </div>\n    )\n}\n\nexport default Post\n","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport {MyPostsPropsType} from \"./MyPostsContainer\";\r\nimport * as Yup from \"yup\";\r\nimport s from './MyPosts.module.css'\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\n\r\n\r\nexport const MyPosts: React.FC<MyPostsPropsType> = (props) => {\r\n    let postsElement = props.posts.map(el => <Post key={el.id} message={el.message} likesCount={el.likesCount}/>)\r\n    return (\r\n        <div>\r\n            <PostForm addPostCallback={props.addPostCallback}/>\r\n            <div>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype FormPropsType = {\r\n    addPostCallback: (newPostText: string) => void\r\n}\r\n\r\ntype FormikDataType = {\r\n    newPostText: string\r\n}\r\n\r\nexport const PostForm = (props: FormPropsType) => {\r\n    const SignupSchema = Yup.object().shape({\r\n        newPostText: Yup.string()\r\n            .min(1, 'Too Short!')\r\n            .max(50, 'Too Long!')\r\n            .required('')\r\n    });\r\n\r\n    const {register, handleSubmit, formState: {errors}, resetField} = useForm<FormikDataType>({\r\n        resolver: yupResolver(SignupSchema),\r\n\r\n    });\r\n    const onSubmit: SubmitHandler<FormikDataType> = data => {\r\n        props.addPostCallback(data.newPostText)\r\n        resetField('newPostText')\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div>\r\n            <input {...register(\"newPostText\",)}\r\n                   type='newPostText'\r\n                   placeholder={'Enter text'}\r\n                   className={`${s.input} ${errors.newPostText ? s.errorInput : s.input}`}/>\r\n\r\n            <p style={{color: \"red\"}}>{errors.newPostText?.message}</p>\r\n        </div>\r\n        <button type=\"submit\">Add post</button>\r\n    </form>\r\n    )\r\n}\r\n","import {addPostAC, PostsType} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsTypeMyPosts = {\r\n    posts: Array<PostsType>\r\n    newPostText: string\r\n}\r\ntype MapDispatchToPropsTypeMyPosts = {\r\n    addPostCallback: (newPostText: string) => void\r\n}\r\nexport type MyPostsPropsType = MapStateToPropsTypeMyPosts & MapDispatchToPropsTypeMyPosts\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsTypeMyPosts => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsTypeMyPosts => {\r\n    return {\r\n        addPostCallback: (newPostText: string) => {\r\n            dispatch(addPostAC(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)","import React from \"react\";\r\nimport {ProfileContent} from \"./ProfileContent/ProfileContent\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\n\r\ntype StateType = {\r\n    profile: any\r\n    status: string\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\nexport const Profile: React.FC<StateType> = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileContent profile={props.profile}\r\n                            status={props.status}\r\n                            updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, {ComponentType} from \"react\";\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype MapStateToPropsType = {\r\n    profile: any\r\n    status: string\r\n    isAuth: boolean\r\n    authUserId: number | any\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getUserProfile: (userID: number | null) => void\r\n    getUserStatus: (userID: number | null) => void\r\n    updateUserStatus: (status: string) => void\r\n}\r\ntype StateAndDispatchPropsType = MapStateToPropsType & MapDispatchToPropsType\r\ntype ProfileContainerStateType = RouteComponentProps<PathParamsType> & StateAndDispatchPropsType\r\n\r\n\r\nexport class ProfileContainer extends React.Component<ProfileContainerStateType> {\r\n\r\n    componentDidMount() {\r\n        let userId = +this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        if (userId) {\r\n            this.props.getUserProfile(userId)\r\n            this.props.getUserStatus(userId)\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps: MapStateToPropsType, prevState: any) {\r\n        return prevProps !== this.props || prevState !== this.state\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile   {...this.props}\r\n                           profile={this.props.profile}\r\n                           status={this.props.status}\r\n                           updateUserStatus={this.props.updateUserStatus}/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authUserId: state.auth.userId\r\n\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Header.module.css'\r\n\r\n\r\ntype HeaderType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logoutUserCallback: () => void\r\n}\r\n\r\nexport const Header: React.FC<HeaderType> = ({isAuth, login,logoutUserCallback}) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrPotIEiUTbNLUNoJE5gAdjdirbVcFSvLFvg&usqp=CAU'\r\n                alt={'Logo'}/>\r\n\r\n            {\r\n                isAuth\r\n                ? <div className={s.loginBlock}>{login} <button onClick={logoutUserCallback}>Log out</button> </div>\r\n                : <div className={s.loginBlock}>\r\n                    <NavLink to={'/login'}>Login</NavLink>\r\n                </div>\r\n            }\r\n\r\n            {/*<div className={s.loginBlock}>*/}\r\n            {/*    {props.isAuth ? props.login*/}\r\n            {/*        : <NavLink to={'/login'}>Login</NavLink>}*/}\r\n            {/*</div>*/}\r\n        </header>\r\n    )\r\n}","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {authAPI, LoginParamsType} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {handleServerAppError} from \"../utills/error-utils\";\r\n\r\n\r\nconst SET_AUTH_USER_DATA = 'SET_AUTH_USER_DATA'\r\n\r\nexport type InitialStateAuthReducerType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    error: string | null\r\n}\r\n\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    error: null\r\n    //isFetching: true\r\n}\r\n\r\nexport const authReducer = (state: InitialStateAuthReducerType = initialState, action: ActionsTypes): InitialStateAuthReducerType => {\r\n    switch (action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        case \"SET_ERROR\":\r\n            return {...state, error: action.error}\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: SET_AUTH_USER_DATA,\r\n        payload: {userId, email, login, isAuth}\r\n\r\n    } as const\r\n}\r\n\r\nexport const setError = (error: string | null) => {\r\n    return {\r\n        type: 'SET_ERROR',\r\n        error\r\n\r\n    } as const\r\n}\r\n\r\n//Thunk creator\r\n\r\nexport const getAuthUser = () => (dispatch: Dispatch) => {\r\n    return authAPI.me()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true))\r\n            }\r\n            return response\r\n        })\r\n\r\n}\r\n\r\nexport const loginUser = (data: LoginParamsType) => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        authAPI.login(data)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUser())\r\n                } else {\r\n                    handleServerAppError(response.data, dispatch)\r\n                }\r\n            })\r\n           /* .catch((error: AxiosError) => {\r\n                alert(error.message)\r\n            })*/\r\n    }\r\n}\r\n\r\nexport const logoutUser = () => {\r\n    return (dispatch: Dispatch) => {\r\n        authAPI.logout()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","\r\nimport {Dispatch} from 'redux'\r\nimport {setError} from \"../redux/auth-reducer\";\r\nimport {CommonResponseType} from \"../api/api\";\r\n\r\nexport const handleServerAppError = <D>(data: CommonResponseType<D>, dispatch: Dispatch) => {\r\n    if (data.messages.length) {\r\n        dispatch(setError(data.messages[0]))\r\n    } else {\r\n        dispatch(setError('Some error occurred'))\r\n    }\r\n}\r\n\r\n// export const handleServerNetworkError = (error: { message: string }, dispatch: Dispatch) => {\r\n//     dispatch(setError(error.message ? error.message : 'Some error occurred'))\r\n//     // dispatch(setAppStatusAC('failed'))\r\n// }","import React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {logoutUser} from \"../../redux/auth-reducer\";\r\n\r\n\r\nexport class HeaderContainer extends React.Component<HeaderPropsType> {\r\n    render() {\r\n        return <Header {...this.props} logoutUserCallback={this.props.logoutUser}/>\r\n    }\r\n}\r\n\r\n\r\nexport type HeaderPropsType = mapStateToPropsType & mapDispatchToPropsType\r\ntype mapStateToPropsType = ReturnType<typeof mapStateToProps>\r\ntype mapDispatchToPropsType = {\r\n    logoutUser: () => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logoutUser})(HeaderContainer)","///////////////////////////////// react hook form\r\n/*\r\nimport React from \"react\";\r\nimport {SubmitHandler, useForm} from \"react-hook-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\n\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginPage = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    const SignupSchema = Yup.object().shape({\r\n        password: Yup.string()\r\n            .min(8, 'Too Short!')\r\n            .max(20, 'Too Long!')\r\n            .required('Required'),\r\n        email: Yup.string().email('Invalid email').required('Required'),\r\n    });\r\n    const {register, handleSubmit, formState: {errors}} = useForm<FormDataType>({\r\n        mode: 'onBlur',\r\n        resolver: yupResolver(SignupSchema),\r\n\r\n    });\r\n    const onSubmit: SubmitHandler<FormDataType> = data => {\r\n        dispatch(loginUser(data.email, data.password, data.rememberMe))\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)} className={s.formContainer}>\r\n\r\n            <div className={s.inputContainer}>\r\n                <input {...register(\"email\",)}\r\n                       type='email'\r\n                       placeholder={'Email'}\r\n                       autoFocus={true}\r\n                       className={`${s.input} ${errors.email ? s.errorInput : s.input}`}/>\r\n\r\n                <p>{errors.email?.message}</p>\r\n\r\n\r\n                <input {...register(\"password\")}\r\n                       type='password'\r\n                       placeholder={'Password'}\r\n                       className={`${s.input} ${errors.password ? s.errorInput : s.input}`}/>\r\n\r\n                <p>{errors.password?.message}</p>\r\n\r\n\r\n                 <input {...register(\"rememberMe\")}\r\n                   className={s.checkbox}\r\n                        type='checkbox'/>\r\n                <button type=\"submit\" className={s.button}>Login</button>\r\n            </div>\r\n        </form>\r\n    );\r\n}*/\r\n\r\n\r\n////////////////////////////  useFormik\r\nimport React from 'react';\r\nimport {useFormik} from 'formik';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\n\r\n\r\ntype FormikDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nexport const LoginPage = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const error = useSelector<AppStateType, string | null>(state => state.auth.error)\r\n    const dispatch = useDispatch()\r\n\r\n    const initialValues = {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false,\r\n    }\r\n\r\n    const onSubmit = (values: FormikDataType) => {\r\n        dispatch(loginUser(values))\r\n    }\r\n    const validationSchema = Yup.object().shape({\r\n        password: Yup.string()\r\n            .min(8, 'Too Short!')\r\n            .max(20, 'Too Long!')\r\n            .required('Required'),\r\n        email: Yup.string().email('Invalid email').required('Required'),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues,\r\n        onSubmit,\r\n        validationSchema\r\n    });\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <div>\r\n                <input\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.email}\r\n                    placeholder=\"Email\"\r\n                    className={`${s.input} ${formik.errors.email && formik.touched.email ? s.errorInput : s.input}`}\r\n                    onBlur={formik.handleBlur}\r\n                />\r\n            </div>\r\n\r\n            {formik.errors.email && formik.touched.email\r\n                ? (<div style={{color: \"red\"}}>{formik.errors.email}</div>)\r\n                : null}\r\n\r\n            <div>\r\n                <input\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    onChange={formik.handleChange}\r\n                    value={formik.values.password}\r\n                    placeholder=\"Password\"\r\n                    className={`${s.input} ${formik.errors.password && formik.touched.password ? s.errorInput : s.input}`}\r\n                    onBlur={formik.handleBlur}\r\n                />\r\n            </div>\r\n\r\n            {formik.errors.password && formik.touched.password\r\n                ? (<div style={{color: \"red\"}}>{formik.errors.password}</div>)\r\n                : null}\r\n\r\n            <div>\r\n                <input\r\n                    id=\"rememberMe\"\r\n                    name=\"rememberMe\"\r\n                    type=\"checkbox\"\r\n                    checked={formik.values.rememberMe}\r\n                    onChange={formik.handleChange}\r\n                />\r\n            </div>\r\n            <button type=\"submit\" disabled={!(formik.dirty && formik.isValid)} className={s.button}>Submit</button>\r\n            {error && <div style={{color: 'red'}}>{error}</div>}\r\n        </form>\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n///////////////////////////////\r\n/*\r\nimport React from \"react\";\r\nimport {loginUser} from \"../../redux/auth-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Field, Form, Formik} from 'formik';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Dispatch} from \"redux\";\r\nimport * as Yup from \"yup\";\r\nimport s from './Login.module.css'\r\n\r\n\r\nexport const Login = () => {\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    const dispatch = useDispatch()\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <LoginForm dispatch={dispatch}/>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\ntype FormikDataType = {\r\n    email: string | null\r\n    password: string | null\r\n    rememberMe: boolean\r\n}\r\ntype LoginFormPropsType = {\r\n    dispatch: Dispatch<any>\r\n}\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n    password: Yup.string()\r\n        .min(8, 'Too Short!')\r\n        .max(20, 'Too Long!')\r\n        .required('Required'),\r\n    email: Yup.string().email('Invalid email').required('Required'),\r\n});\r\n\r\nconst LoginForm = (props: LoginFormPropsType) => (\r\n\r\n    <div>\r\n        <h3>Login</h3>\r\n        <Formik\r\n            initialValues={{email: '', password: '', rememberMe: false}}\r\n            validationSchema={SignupSchema}\r\n            onSubmit={(values: FormikDataType, actions) => {\r\n                props.dispatch(loginUser(values.email, values.password, values.rememberMe))\r\n                actions.setSubmitting(false);\r\n\r\n            }}\r\n            // validateOnMount\r\n        >\r\n            {({errors, touched, dirty, isValid}) => (\r\n                <Form>\r\n                    <div>\r\n                        <Field type=\"text\"\r\n                               className={errors.email && touched.email ? s.errorEmail : s.email}\r\n                               name=\"email\"\r\n                               placeholder=\"Email\"/>\r\n                    </div>\r\n                    {errors.email && touched.email\r\n                        ? (<div style={{color: \"red\"}}>{errors.email}</div>)\r\n                        : null}\r\n                    <div>\r\n                        <Field type=\"password\"\r\n                               className={errors.password && touched.password ? s.errorPassword : s.password}\r\n                               name=\"password\"\r\n                               placeholder=\"password\"/>\r\n                    </div>\r\n                    {errors.password && touched.password\r\n                        ? (<div style={{color: \"red\"}}>{errors.password}</div>)\r\n                        : null}\r\n                    <div>\r\n                        <Field name=\"remember me\" type={'checkbox'}/>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" disabled={!(dirty && isValid)}>Login</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n);\r\n*/\r\n\r\n\r\n\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\nimport {Dispatch} from \"redux\";\r\nimport {getAuthUser} from \"./auth-reducer\";\r\n\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nexport type InitialStatAppReducerType = {\r\n    initialized: boolean\r\n}\r\n\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: InitialStatAppReducerType = initialState, action: ActionsTypes): InitialStatAppReducerType => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\n// action\r\n\r\nexport const setInitialized = () => ({type: SET_INITIALIZED} as const)\r\n\r\n\r\n//Thunk creator\r\n\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    let promise = dispatch(getAuthUser())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(setInitialized())\r\n        })\r\n\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport { AppStateType } from \"../../../redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport const Error404 = () => {\r\n\r\n  /*const initialized = useSelector<AppStateType, boolean>(state => state.app.initialized)\r\n  //const dispatch = useDispatch()\r\n  if (initialized) {\r\n    return <Redirect to={'/profile'}/>\r\n  }*/\r\n  return <h1>Error: PAGE NOT FOUND</h1>\r\n}","import React, {ComponentType} from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./Components/Navbar/Navbar\";\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport {Settings} from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {LoginPage} from \"./Components/Login/LoginPage\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./Components/general/Preloader/Preloader\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {Error404} from \"./Components/common/Error404/Error404\";\r\n\r\n\r\nclass App extends React.Component<any> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                < HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\r\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/login' render={() => <LoginPage/>}/>\r\n                        <Route path='/404' render={() => <Error404 />}/>\r\n                        <Redirect from={'*'} to={'/404'}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized,\r\n    //isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App)\r\n\r\n\r\n// FC using Hooks\r\n/*import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./Components/Navbar/Navbar\";\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nimport {Settings} from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {LoginPage} from \"./Components/Login/LoginPage\";\r\nimport {connect, useDispatch, useSelector} from \"react-redux\";\r\nimport {getAuthUser} from \"./redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {AppStateType} from \"./redux/redux-store\";\r\nimport {Preloader} from \"./Components/general/Preloader/Preloader\";\r\n\r\n\r\n const App = () => {\r\n\r\n    const initialized = useSelector<AppStateType, boolean>(state => state.app.initialized)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(initializeApp())\r\n    }, [])\r\n\r\n    if (!initialized) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className='app-wrapper'>\r\n            < HeaderContainer/>\r\n            <Navbar/>\r\n            <div className='app-wrapper-content'>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <Redirect to='/profile'/>}/>\r\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                    <Route path='/settings' render={() => <Settings/>}/>\r\n                    <Route path='/users' render={() => <UsersContainer/>}/>\r\n                    <Route path='/login' render={() => <LoginPage/>}/>\r\n                    <Route path='/404' render={() => <h1>Error: PAGE NOT FOUND</h1>}/>\r\n                    <Redirect from={'*'} to={'/404'}/>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;*/\r\n","import {ActionsTypes} from \"./ActionTypes\";\r\n\r\n\r\nexport type SidebarType = {}\r\n\r\nconst initialState = {}\r\n\r\nexport const sidebarReducer = (state: SidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}","import {combineReducers, createStore, applyMiddleware} from \"redux\";\r\nimport {dialogReducer} from \"./dialog-reducer\";\r\nimport {profileReducer} from \"./profile-reducer\";\r\nimport {sidebarReducer} from \"./sidebar-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport App from \"./App\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/redux-store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formContainer\":\"Login_formContainer__R1MBc\",\"inputContainer\":\"Login_inputContainer__1N5-3\",\"input\":\"Login_input__33PcP\",\"errorInput\":\"Login_errorInput__1HPLT\",\"button\":\"Login_button__2LEuv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1rpAC\",\"selectPageActive\":\"Users_selectPageActive__1msBc\",\"selectPage\":\"Users_selectPage__2Jnyx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"MyPosts_input__31FQr\",\"errorInput\":\"MyPosts_errorInput__21Llc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1SWsU\",\"loginBlock\":\"Header_loginBlock__1UZHx\"};"],"sourceRoot":""}
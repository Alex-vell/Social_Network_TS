(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{112:function(e,t,n){e.exports={preloader:"Preloader_preloader__quI4H"}},113:function(e,t,n){e.exports={image:"ProfileContent_image__2CuWr",userPhotoImg:"ProfileContent_userPhotoImg__1rhE-"}},114:function(e,t,n){e.exports={item:"Post_item__M1xtD"}},125:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=(n(78),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))}),i=n(54),c=n.n(i),o=(n(125),n(13)),u=n(27),l=n.n(u),d=n(1),j=function(){return Object(d.jsxs)("nav",{className:l.a.nav,children:[Object(d.jsx)("div",{className:l.a.item,children:Object(d.jsx)(o.b,{to:"/profile",activeClassName:l.a.active,children:"Profile"})}),Object(d.jsx)("div",{className:l.a.item,children:Object(d.jsx)(o.b,{to:"/dialogs",activeClassName:l.a.active,children:"Messages"})}),Object(d.jsx)("div",{className:l.a.item,children:Object(d.jsx)(o.b,{to:"/users",activeClassName:l.a.active,children:"Users"})}),Object(d.jsx)("div",{className:l.a.item,children:Object(d.jsx)(o.b,{to:"/settings",activeClassName:l.a.active,children:"Settings"})})]})},b=n(11),p=n(3),g=n(2),h=n(249),f="ADD-MESSAGE",O={dialogs:[{id:Object(h.a)(),name:"Alex"},{id:Object(h.a)(),name:"Natali"},{id:Object(h.a)(),name:"Anna"}],messages:[{id:Object(h.a)(),message:"I am a developer"},{id:Object(h.a)(),message:"bla bla"},{id:Object(h.a)(),message:"la la"}]},m=n(25),x=n.n(m),v=function(e){var t="/dialogs/"+e.id;return Object(d.jsx)("div",{className:x.a.dialog+" "+x.a.active,children:Object(d.jsx)(o.b,{to:t,children:e.name})})},P=function(e){return Object(d.jsx)("div",{className:x.a.message,children:e.message})},w=n(64),y=function(e){return Object(d.jsx)(w.c,{initialValues:{newMessageText:""},onSubmit:function(t,n){e.addMessageCallback(t.newMessageText),n.setSubmitting(!1),n.resetForm()},children:function(e){return Object(d.jsxs)(w.b,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{as:"textarea",type:"text",name:"newMessageText",placeholder:"Enter text"})}),Object(d.jsx)("button",{type:"submit",children:"Add post"})]})}})},A=n(14),S=n(23),U=n(119),C=function(e){return{isAuth:e.auth.isAuth}};function N(e){return Object(A.b)(C)((function(t){var n=t.isAuth,s=Object(U.a)(t,["isAuth"]);return n?Object(d.jsx)(e,Object(g.a)({},s)):Object(d.jsx)(b.a,{to:"/login"})}))}var k=Object(S.c)(Object(A.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addMessageCallback:function(t){e(function(e){return{type:f,newMessageText:e}}(t))}}})),N)((function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(d.jsx)(v,{id:e.id,name:e.name},e.id)})),s=t.messages.map((function(e){return Object(d.jsx)(P,{message:e.message},e.id)}));return Object(d.jsxs)("div",{className:x.a.dialogs,children:[Object(d.jsxs)("div",{className:x.a.dialogsContainer,children:[Object(d.jsx)("div",{className:x.a.dialogsItem,children:n}),Object(d.jsx)("div",{className:x.a.messages,children:s})]}),Object(d.jsx)(y,{addMessageCallback:e.addMessageCallback})]})})),T=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:" Settings "})})},I=n(4),L=n(5),M=n(9),D=n(10),G=n(111),F=n.n(G).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"724c553c-960a-4a5c-aa67-c9d1bcd4ed73"}}),E=function(){return F.get("auth/me")},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return F.post("/auth/login",{email:e,password:t,rememberMe:n})},_=function(){return F.delete("/auth/login")},X=function(e,t){return F.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},V=function(e){return F.delete("follow/".concat(e))},z=function(e){return F.post("follow/".concat(e))},R=function(e){return F.get("profile/".concat(e))},B=function(e){return F.get("profile/status/".concat(e))},W=function(e){return F.put("profile/status/",{status:e})},H="FOLLOW",Y="UNFOLLOW",K="SET_USERS",Z="SET_CURRENT_PAGE",J="SET_TOTAL_USERS_COUNT",Q="TOGGLE_IS_FETCHING",$="TOGGLE_IS_FOLLOWING_PROGRESS",ee={users:[{name:null,id:null,photos:{small:null,large:null},status:null,followed:!1}],pageSize:100,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},te=function(e){return{type:Q,isFetching:e}},ne=function(e,t){return{type:$,isFetching:e,userId:t}},se=n(45),ae=n.n(se),re=n.p+"static/media/photoAvatar.22d7f1c8.jpg",ie=function(e){for(var t=[],n=Math.ceil(e.totalUsersCount/e.pageSize),s=1;s<=n;s++)t.push(s);return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:t.map((function(t){return Object(d.jsx)("span",{className:e.currentPage===t&&ae.a.selectPageActive?ae.a.selectPageActive:ae.a.selectPage,onClick:function(n){return e.onPageChangedCallback(t)},children:t},t)}))}),e.users.users.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("div",{children:Object(d.jsxs)(o.b,{to:"./profile/"+t.id,children:[" ",Object(d.jsx)("img",{src:null!==t.photos.small?t.photos.small:re,className:ae.a.userPhoto,alt:"User"})]})}),Object(d.jsx)("div",{children:t.followed?Object(d.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unFollow(t.id)},children:"Unfollow"}):Object(d.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(d.jsxs)("span",{children:[Object(d.jsxs)("span",{children:[Object(d.jsx)("div",{children:t.name}),Object(d.jsx)("div",{children:t.status})]}),Object(d.jsxs)("span",{children:[Object(d.jsx)("div",{children:"u.location.country"}),Object(d.jsx)("div",{children:"u.location.city"})]})]})]},t.id)}))]})},ce=n(112),oe=n.n(ce),ue=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("img",{className:oe.a.preloader,src:"data:image/gif;base64,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",alt:"preloader"})})},le=function(e){Object(M.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(I.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize),e.props.setCurrentPage(t)},e}return Object(L.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[this.props.isFetching?Object(d.jsx)(ue,{}):null,Object(d.jsx)(ie,{follow:this.props.follow,unFollow:this.props.unFollow,users:this.props.users,currentPage:this.props.currentPage,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChangedCallback:this.onPageChanged,followingInProgress:this.props.followingInProgress})]})}}]),n}(a.a.Component),de=Object(S.c)(Object(A.b)((function(e){return{users:e.usersPage,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{follow:function(e){return function(t){t(ne(!0,e)),z(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:H,userId:e}}(e)),t(ne(!1,e))}))}},unFollow:function(e){return function(t){t(ne(!0,e)),V(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:Y,userId:e}}(e)),t(ne(!1,e))}))}},setCurrentPage:function(e){return{type:Z,currentPage:e}},toggleFollowingInProgress:ne,getUsers:function(e,t){return function(n){n(te(!0)),X(e,t).then((function(e){var t,s;n((t=e.items,{type:K,users:t})),n((s=e.totalCount,{type:J,totalCount:s})),n(te(!1))}))}}}),N)(le),je=n(113),be=n.n(je),pe=function(e){Object(M.a)(n,e);var t=Object(D.a)(n);function n(){var e;Object(I.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1,status:e.props.status},e.activateEditMode=function(){e.setState({editMode:!0})},e.deActivateEditMode=function(){e.setState({editMode:!1}),e.props.updateUserStatus(e.state.status)},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e}return Object(L.a)(n,[{key:"componentDidUpdate",value:function(e,t,n){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[!this.state.editMode&&Object(d.jsx)("div",{children:Object(d.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"---"})}),this.state.editMode&&Object(d.jsx)("div",{children:Object(d.jsx)("input",{onChange:this.onStatusChange,onBlur:this.deActivateEditMode,autoFocus:!0,value:this.state.status})})]})}}]),n}(a.a.Component),ge=function(e){return e.profile?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:be.a.userPhotoImg,src:e.profile.photos.large||re,alt:"user"}),Object(d.jsx)(pe,{status:e.status,updateUserStatus:e.updateUserStatus}),Object(d.jsxs)("div",{children:["Full name: ",e.profile.fullName]}),e.profile.lookingForAJob?Object(d.jsx)("div",{children:"looking for a job"}):"",Object(d.jsx)("div",{children:"Contacts:"}),Object(d.jsxs)("ul",{children:[e.profile.contacts.github?Object(d.jsxs)("li",{children:[" GitHub: ",e.profile.contacts.github]}):null,e.profile.contacts.vk?Object(d.jsxs)("li",{children:[" vk: ",e.profile.contacts.vk]}):null,e.profile.contacts.facebook?Object(d.jsxs)("li",{children:[" facebook: ",e.profile.contacts.facebook]}):null,e.profile.contacts.instagram?Object(d.jsxs)("li",{children:[" instagram: ",e.profile.contacts.instagram]}):null,e.profile.contacts.twitter?Object(d.jsxs)("li",{children:[" twitter: ",e.profile.contacts.twitter]}):null,e.profile.contacts.website?Object(d.jsxs)("li",{children:[" website: ",e.profile.contacts.website]}):null,e.profile.contacts.youtube?Object(d.jsxs)("li",{children:[" youtube: ",e.profile.contacts.youtube]}):null,e.profile.contacts.mainLink?Object(d.jsxs)("li",{children:[" mainLink: ",e.profile.contacts.mainLink]}):null]})]})}):Object(d.jsx)(ue,{})},he="ADD-POST",fe="SET_USER_PROFILE",Oe="SET_USER_STATUS",me={posts:[{id:Object(h.a)(),message:"Hey la lay",likesCount:15},{id:Object(h.a)(),message:"Bla bla",likesCount:11}],profile:null,status:""},xe=function(e){return{type:Oe,status:e}},ve=n(114),Pe=n.n(ve),we=function(e){return Object(d.jsxs)("div",{className:Pe.a.item,children:[Object(d.jsx)("img",{src:"https://ezyschooling.com/_nuxt/img/default-avatar.7a6572e.png",alt:"user"}),e.message,Object(d.jsxs)("div",{children:["like ",e.likesCount]})]})},ye=n(37),Ae=n(62),Se=n.n(Ae),Ue=n(24),Ce=n(61),Ne=function(e){var t,n=ye.a().shape({newPostText:ye.b().min(1,"Too Short!").max(50,"Too Long!").required("")}),s=Object(Ue.d)({resolver:Object(Ce.a)(n)}),a=s.register,r=s.handleSubmit,i=s.formState.errors,c=s.resetField;return Object(d.jsxs)("form",{onSubmit:r((function(t){e.addPostCallback(t.newPostText),c("newPostText")})),children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({},a("newPostText")),{},{type:"newPostText",placeholder:"Enter text",className:"".concat(Se.a.input," ").concat(i.newPostText?Se.a.errorInput:Se.a.input)})),Object(d.jsx)("p",{style:{color:"red"},children:null===(t=i.newPostText)||void 0===t?void 0:t.message})]}),Object(d.jsx)("button",{type:"submit",children:"Add post"})]})},ke=Object(A.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPostCallback:function(t){e(function(e){return{type:he,newPostText:e}}(t))}}}))((function(e){var t=e.posts.map((function(e){return Object(d.jsx)(we,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(Ne,{addPostCallback:e.addPostCallback}),Object(d.jsx)("div",{children:t})]})})),Te=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(ge,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(d.jsx)(ke,{})]})},Ie=function(e){Object(M.a)(n,e);var t=Object(D.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"componentDidMount",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authUserId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return Object(d.jsx)("div",{children:Object(d.jsx)(Te,Object(g.a)(Object(g.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),n}(a.a.Component),Le=Object(S.c)(Object(A.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authUserId:e.auth.userId}}),{getUserProfile:function(e){return function(t){R(e).then((function(e){var n;t((n=e.data,{type:fe,profile:n}))}))}},getUserStatus:function(e){return function(t){B(e).then((function(e){t(xe(e.data))}))}},updateUserStatus:function(e){return function(t){W(e).then((function(n){0===n.data.resultCode&&t(xe(e))}))}}}),b.f,N)(Ie),Me=n(63),De=n.n(Me),Ge=function(e){var t=e.isAuth,n=e.login,s=e.logoutUserCallback;return Object(d.jsxs)("header",{className:De.a.header,children:[Object(d.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrPotIEiUTbNLUNoJE5gAdjdirbVcFSvLFvg&usqp=CAU",alt:"Logo"}),t?Object(d.jsxs)("div",{className:De.a.loginBlock,children:[n," ",Object(d.jsx)("button",{onClick:s,children:"Logout"})," "]}):Object(d.jsx)("div",{className:De.a.loginBlock,children:Object(d.jsx)(o.b,{to:"/login",children:"Login"})})]})},Fe="SET_AUTH_USER_DATA",Ee={userId:null,email:null,login:null,isAuth:!1},qe=function(e,t,n,s){return{type:Fe,payload:{userId:e,email:t,login:n,isAuth:s}}},_e=function(){return function(e){E().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,a=n.email,r=n.login;e(qe(s,a,r,!0))}}))}},Xe=function(e){Object(M.a)(n,e);var t=Object(D.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"componentDidMount",value:function(){this.props.getAuthUser(),this.props.logoutUser()}},{key:"render",value:function(){return Object(d.jsx)(Ge,Object(g.a)(Object(g.a)({},this.props),{},{logoutUserCallback:this.props.logoutUser}))}}]),n}(a.a.Component),Ve=Object(A.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUser:_e,logoutUser:function(){return function(e){_().then((function(t){0===t.data.resultCode&&e(qe(null,null,null,!1))}))}}})(Xe),ze=n(28),Re=n.n(ze),Be=function(){var e,t,n=Object(A.d)((function(e){return e.auth.isAuth})),s=Object(A.c)(),a=ye.a().shape({password:ye.b().min(8,"Too Short!").max(20,"Too Long!").required("Required"),email:ye.b().email("Invalid email").required("Required")}),r=Object(Ue.d)({mode:"onBlur",resolver:Object(Ce.a)(a)}),i=r.register,c=r.handleSubmit,o=r.formState.errors;return n?Object(d.jsx)(b.a,{to:"/profile"}):Object(d.jsx)("form",{onSubmit:c((function(e){var t,n,a;s((t=e.email,n=e.password,a=e.rememberMe,function(e){q(t,n,a).then((function(t){0===t.data.resultCode&&e(_e())}))}))})),className:Re.a.formContainer,children:Object(d.jsxs)("div",{className:Re.a.inputContainer,children:[Object(d.jsx)("input",Object(g.a)(Object(g.a)({},i("email")),{},{type:"email",placeholder:"Email",autoFocus:!0,className:"".concat(Re.a.input," ").concat(o.email?Re.a.errorInput:Re.a.input)})),Object(d.jsx)("p",{children:null===(e=o.email)||void 0===e?void 0:e.message}),Object(d.jsx)("input",Object(g.a)(Object(g.a)({},i("password")),{},{type:"password",placeholder:"Password",className:"".concat(Re.a.input," ").concat(o.password?Re.a.errorInput:Re.a.input)})),Object(d.jsx)("p",{children:null===(t=o.password)||void 0===t?void 0:t.message}),Object(d.jsx)("button",{type:"submit",className:Re.a.button,children:"Login"})]})})},We=function(){return Object(d.jsxs)("div",{className:"app-wrapper",children:[Object(d.jsx)(Ve,{}),Object(d.jsx)(j,{}),Object(d.jsxs)("div",{className:"app-wrapper-content",children:[Object(d.jsx)(b.b,{path:"/dialogs",render:function(){return Object(d.jsx)(k,{})}}),Object(d.jsx)(b.b,{path:"/profile/:userId?",render:function(){return Object(d.jsx)(Le,{})}}),Object(d.jsx)(b.b,{path:"/settings",render:function(){return Object(d.jsx)(T,{})}}),Object(d.jsx)(b.b,{path:"/users",render:function(){return Object(d.jsx)(de,{})}}),Object(d.jsx)(b.b,{path:"/login",render:function(){return Object(d.jsx)(Be,{})}})]})]})},He={},Ye=n(118),Ke=Object(S.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(g.a)(Object(g.a)({},e),{},{posts:[].concat(Object(p.a)(e.posts),[{id:Object(h.a)(),message:t.newPostText,likesCount:0}])});case fe:return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case Oe:return Object(g.a)(Object(g.a)({},e),{},{status:t.status});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(g.a)(Object(g.a)({},e),{},{messages:[].concat(Object(p.a)(e.messages),[{id:Object(h.a)(),message:t.newMessageText}])});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(g.a)(Object(g.a)({},e),{},{followed:!0}):e}))});case Y:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(g.a)(Object(g.a)({},e),{},{followed:!1}):e}))});case K:return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case Z:return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case J:return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalCount});case Q:return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case $:return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(p.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}}}),Ze=Object(S.d)(Ke,Object(S.a)(Ye.a));window.store=Ze,c.a.render(Object(d.jsx)(o.a,{children:Object(d.jsx)(A.a,{store:Ze,children:Object(d.jsx)(We,{})})}),document.getElementById("root")),r()},25:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__R_ACZ",dialogsContainer:"Dialogs_dialogsContainer__2r-jA",dialogsItem:"Dialogs_dialogsItem__3kp7G",messages:"Dialogs_messages__Nmt2I",message:"Dialogs_message__3f32W"}},27:function(e,t,n){e.exports={nav:"Navbar_nav__2m4Cj",item:"Navbar_item__3gY1P",active:"Navbar_active__1Khgz"}},28:function(e,t,n){e.exports={formContainer:"Login_formContainer__R1MBc",inputContainer:"Login_inputContainer__1N5-3",input:"Login_input__33PcP",errorInput:"Login_errorInput__1HPLT",button:"Login_button__2LEuv"}},45:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__1rpAC",selectPageActive:"Users_selectPageActive__1msBc",selectPage:"Users_selectPage__2Jnyx"}},62:function(e,t,n){e.exports={input:"MyPosts_input__31FQr",errorInput:"MyPosts_errorInput__21Llc"}},63:function(e,t,n){e.exports={header:"Header_header__1SWsU",loginBlock:"Header_loginBlock__1UZHx"}},78:function(e,t,n){}},[[248,1,2]]]);
//# sourceMappingURL=main.c9edb004.chunk.js.map
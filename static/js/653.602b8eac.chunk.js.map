{"version":3,"file":"static/js/653.602b8eac.chunk.js","mappings":"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","sources":["webpack://my-app/./src/Components/common/pagination/Pagination.module.scss?8b78","Components/common/pagination/Pagination.tsx","webpack://my-app/./src/Components/Users/Users.module.scss?5c93","Components/Users/User.tsx","Components/Users/Users.tsx","redux/users-selectors.ts","Components/Users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__y9ZYd\",\"pageNumber\":\"Pagination_pageNumber__AJ5t4\",\"selectPageActive\":\"Pagination_selectPageActive__rPfS3\",\"arrow\":\"Pagination_arrow__J09Gv\"};","import React, {useState} from 'react'\r\nimport s from './Pagination.module.scss'\r\nimport {logo} from \"../../../assets/images\";\r\n\r\ntype UsersType = {\r\n    currentPage: number\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    onPageChangedCallback: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n\r\n\r\nexport const Pagination: React.FC<UsersType> = (\r\n    {\r\n        currentPage, totalItemsCount, pageSize, onPageChangedCallback,\r\n        portionSize = 10\r\n    }) => {\r\n    let pages = []\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div className={s.pagination}>\r\n        {portionNumber > 1 &&\r\n            <div onClick={() => {setPortionNumber(portionNumber - 1)}}>\r\n                <img src={logo.arrowLeft} alt=\"previous\" className={s.arrow}/>\r\n            </div>\r\n        }\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map(p => {\r\n                return <span className={currentPage === p\r\n                    ? `${s.pageNumber} ${s.selectPageActive}`\r\n                    : s.pageNumber}\r\n                            key={p}\r\n                            onClick={(event => onPageChangedCallback(p))}>{p}</span>\r\n            })}\r\n\r\n        {portionCount > portionNumber &&\r\n            <div onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>\r\n                <img src={logo.arrowRight} alt=\"previous\" className={s.arrow}/>\r\n            </div>\r\n        }\r\n    </div>\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"selectPageActive\":\"Users_selectPageActive__-kwkp\",\"usersContainer\":\"Users_usersContainer__AkofA\",\"user\":\"Users_user__kob7q\",\"content\":\"Users_content__CHcHC\",\"userPhoto\":\"Users_userPhoto__cvubS\",\"infoBlock\":\"Users_infoBlock__KKm+V\",\"userName\":\"Users_userName__MUjct\",\"status\":\"Users_status__j9ezx\",\"button\":\"Users_button__HFaF-\",\"follow\":\"Users_follow__XVTw3\",\"unfollow\":\"Users_unfollow__O4dBY\"};","import React from \"react\";\r\nimport styles from './Users.module.scss'\r\nimport photoAvatar from \"../../assets/images/photoAvatar.jpg\";\r\nimport {UserType} from \"../../redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\ntype UsersType = {\r\n    key: number | null\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    user: UserType\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\nexport const User: React.FC<UsersType> = (\r\n    {\r\n        user, followingInProgress,\r\n        unFollow, follow\r\n    }) => {\r\n\r\n    return (\r\n        <div className={styles.user}>\r\n            <div className={styles.content}>\r\n                <div>\r\n                    <NavLink to={'./profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small !== null ? user.photos.small : photoAvatar}\r\n                            className={styles.userPhoto}\r\n                            alt={'User'}\r\n                        />\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={styles.infoBlock}>\r\n                    <span className={styles.userName}>{user.name}</span>\r\n                    <span className={styles.status}>{user.status}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                {user.followed\r\n                    ? <button\r\n                        className={`${styles.button} ${styles.unfollow}`}\r\n                        disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n                            unFollow(user.id)\r\n\r\n                        }}>\r\n                        Unfollow</button>\r\n\r\n                    : <button\r\n                        className={`${styles.button} ${styles.follow}`}\r\n                        disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => {\r\n\r\n                            follow(user.id)\r\n\r\n                        }}>Follow</button>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {InitialStateUsersReducerType} from \"../../redux/users-reducer\";\r\nimport {Pagination} from \"../common/pagination/Pagination\";\r\nimport {User} from \"./User\";\r\nimport style from './Users.module.scss';\r\n\r\n\r\ntype UsersType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    users: InitialStateUsersReducerType\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    onPageChangedCallback: (pageNumber: number) => void\r\n    followingInProgress: Array<number | null>\r\n}\r\n\r\n\r\nexport const Users: React.FC<UsersType> = (\r\n    {\r\n        totalUsersCount, pageSize, currentPage,\r\n        onPageChangedCallback, users, followingInProgress,\r\n        unFollow, follow\r\n    }) => {\r\n\r\n    return (\r\n        <div className={style.usersContainer}>\r\n            <Pagination currentPage={currentPage}\r\n                        totalItemsCount={totalUsersCount}\r\n                        pageSize={pageSize}\r\n                        onPageChangedCallback={onPageChangedCallback}/>\r\n            <div>\r\n                {\r\n                    users.users.map(u => <User key={u.id}\r\n                                               follow={follow}\r\n                                               unFollow={unFollow}\r\n                                               user={u}\r\n                                               followingInProgress={followingInProgress}/>)\r\n\r\n                }\r\n            </div>\r\n\r\n            <Pagination currentPage={currentPage}\r\n                        totalItemsCount={totalUsersCount}\r\n                        pageSize={pageSize}\r\n                        onPageChangedCallback={onPageChangedCallback}/>\r\n        </div>\r\n    )\r\n}\r\n","import {AppStateType} from \"./redux-store\";\r\n\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n  return state.usersPage\r\n}\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUserCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\n\r\n// example reselect\r\n// export const getUsersSuperSelector = createSelector(getUsers,\r\n//     (users: any) => {\r\n//     return users.filter(u => true) // example code\r\n// })\r\n","import {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingInProgress, unFollow,} from \"../../redux/users-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport React, {ComponentType} from \"react\";\r\nimport {Users} from \"./Users\";\r\n// import {Preloader} from \"../general/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getPageSize,\r\n    getTotalUserCount,\r\n    getCurrentPage,\r\n    getIsFetching, getFollowingInProgress,\r\n} from \"../../redux/users-selectors\";\r\nimport {Preloader} from \"../common/Preloader/Preloader\";\r\n\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n        this.props.setCurrentPage(pageNumber)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   users={this.props.users}\r\n                   currentPage={this.props.currentPage}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   onPageChangedCallback={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {\r\n        follow, unFollow, setCurrentPage,\r\n        toggleFollowingInProgress, getUsers: requestUsers\r\n    }),\r\n    /*withAuthRedirect*/\r\n)(UsersContainer)\r\n\r\n//types\r\ntype mapStateToPropsType = ReturnType<typeof mapStateToProps>\r\n\r\ntype mapDispatchToPropsType = {\r\n    follow: (userId: number | null) => void\r\n    unFollow: (userId: number | null) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    toggleFollowingInProgress: (isFetching: boolean, userId: number | null) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\nexport type UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n"],"names":["Pagination","_ref","currentPage","totalItemsCount","pageSize","onPageChangedCallback","_ref$portionSize","portionSize","pages","pagesCount","Math","ceil","i","push","portionCount","_useState","useState","_useState2","_slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","_jsxs","className","s","children","_jsx","onClick","src","logo","alt","filter","p","map","concat","event","User","user","followingInProgress","unFollow","follow","styles","NavLink","to","id","photos","small","photoAvatar","name","status","followed","disabled","some","Users","totalUsersCount","users","style","u","getUsers","state","usersPage","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","onPageChanged","pageNumber","props","setCurrentPage","_createClass","key","value","_this$props","this","_Fragment","Preloader","React","compose","connect","toggleFollowingInProgress","requestUsers"],"sourceRoot":""}